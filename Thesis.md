# TÃ³m táº¯t

Háº§u háº¿t chÃºng ta sá»­ dá»¥ng cloud services (dá»‹ch vá»¥ Ä‘Ã¡m mÃ¢y) gáº§n nhÆ° háº±ng ngÃ y. Ta sá»­ dá»¥ng nhá»¯ng á»©ng dá»¥ng web nhÆ° Gmail, Outlook, Yahoo! Ä‘á»ƒ trao Ä‘á»•i email. Ta sá»­ dá»¥ng nhá»¯ng máº¡ng xÃ£ há»™i nhÆ° Facebook, LinkedIn vÃ  Twitter Ä‘á»ƒ chia sáº» thÃ´ng tin vÃ  káº¿t ná»‘i vá»›i báº¡n bÃ¨ cá»§a mÃ¬nh. Nhá»¯ng dá»‹ch vá»¥ lÆ°u trá»¯ Ä‘Ã¡m mÃ¢y nhÆ° Google Drive, iCloud vÃ  Dropbox cho phÃ©p chÃºng ta lÆ°u trá»¯ ná»™i dung sá»‘ cá»§a mÃ¬nh má»™t cÃ¡ch nhanh chÃ³ng. Nhu cáº§u giáº£i trÃ­ cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘Ã¡p á»©ng bá»Ÿi Netflix, Hulu. VÃ  nhá»¯ng dá»‹ch vá»¥ nÃ y khÃ´ng chá»‰ dÃ nh cho cÃ¡ nhÃ¢n, nhá»¯ng táº­p Ä‘oÃ n lá»›n Ä‘Ã£ vÃ  Ä‘ang sá»­ dá»¥ng nhá»¯ng dá»‹ch vá»¥ Ä‘Ã¡m mÃ¢y Ä‘á»ƒ deploy (triá»ƒn khai) á»©ng dá»¥ng vÃ  dá»‹ch vá»¥ cá»§a chÃ­nh há» nháº±m giáº£m chi phÃ­ váº­n hÃ nh. Má»™t sá»‘ vÃ­ dá»¥ tiÃªu biá»ƒu cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n nhÆ° Uber, Reddit vÃ  Netflix sá»­ dá»¥ng Amazon Web Services, Github sá»­ dá»¥ng Rackspace. Dá»‹ch vá»¥ Ä‘Ã¡m mÃ¢y Ä‘Ã£ trá»Ÿ thÃ nh thá»© khÃ´ng thá»ƒ thiáº¿u trong cuá»™c sá»‘ng hiá»‡n Ä‘áº¡i cá»§a chÃºng ta.

NhÃ  cung cáº¥p nhá»¯ng dá»‹ch vá»¥ chÃºng ta Ä‘ang sá»­ dá»¥ng cÃ³ trÃ¡ch nhiá»‡m chÃ­nh trong viá»‡c báº£o vá»‡ thÃ´ng tin cÅ©ng nhÆ° quyá»n riÃªng tÆ° cá»§a chÃºng ta. CÃ¹ng lÃºc Ä‘Ã³, há» pháº£i Ä‘áº£m báº£o dá»‹ch vá»¥ cá»§a há» luÃ´n luÃ´n kháº£ dá»¥ng (availability), cÃ³ thá»ƒ má»Ÿ rá»™ng (scalability), vÃ  Ä‘Ã¡ng tin cáº­y (reliability). Hiá»‡n táº¡i nhá»¯ng dá»‹ch vá»¥ Ä‘Ã¡m mÃ¢y chÃºng ta sá»­ dá»¥ng Ä‘Æ°á»£c thiáº¿t káº¿ theo mÃ´ hÃ¬nh client-server, nÆ¡i nhá»¯ng nhÃ  cung cáº¥p phÃ¡t triá»ƒn vÃ  duy trÃ¬ dá»‹ch vá»¥ cá»§a há» trÃªn má»™t server (mÃ¡y chá»§) táº­p trung, vÃ  ngÆ°á»i dÃ¹ng (client) sáº½ giao tiáº¿p vá»›i server Ä‘á»ƒ cÃ³ thá»ƒ tiáº¿p cáº­n vá»›i nhá»¯ng dá»‹ch vá»¥ nÃ y. Tuy nhiÃªn Ä‘á»ƒ sá»­ dá»¥ng chÃºng, ngÆ°á»i dÃ¹ng sáº½ pháº£i Ä‘Äƒng kÃ½ vá»›i nhÃ  cung cáº¥p Ä‘á»ƒ táº¡o ra digital identity (danh tÃ­nh sá»‘) cá»§a mÃ¬nh. Trong quÃ¡ trÃ¬nh nÃ y, ngÆ°á»i dÃ¹ng pháº£i cung cáº¥p tá»« nhá»¯ng dá»¯ liá»‡u cÆ¡ báº£n nháº¥t cá»§a mÃ¬nh, cháº³ng háº¡n nhÆ° tÃªn há», username (tÃªn ngÆ°á»i dÃ¹ng), sá»‘ Ä‘iá»‡n thoáº¡i, email, cho Ä‘áº¿n nhá»¯ng thÃ´ng tin Ä‘áº·c biá»‡t riÃªng tÆ° nhÆ° chi tiáº¿t tháº» tÃ­n dá»¥ng. Nhá»¯ng dá»¯ liá»‡u nÃ y Ä‘Æ°á»£c lÆ°u trÃªn mÃ¡y chá»§ táº­p trung (centralized server) Ä‘Æ°á»£c phÃ¡t triá»ƒn vÃ  duy trÃ¬ bá»Ÿi nhÃ  cung cáº¥p dá»‹ch vá»¥. ChÃ­nh bá»Ÿi tÃ­nh táº­p trung nÃ y, nhá»¯ng mÃ¡y chá»§ táº­p trung lÃ  má»¥c tiÃªu chÃ­nh cho tin táº·c.

Theo ZDNet vÃ o nÄƒm 2016 [26]: trang máº¡ng xÃ£ há»™i Tumblr Ä‘Ã£ bá»‹ tháº¥t thoÃ¡t 65 triá»‡u tÃ i khoáº£n ngÆ°á»i dÃ¹ng, Yahoo! thÃ´ng bÃ¡o hÆ¡n 1 tá»‰ tÃ i khoáº£ng cá»§a dá»‹ch vá»¥ nÃ y Ä‘Ã£ bá»‹ tin táº·c cÆ°á»›p máº¥t, LinkedIn cÅ©ng khÃ´ng pháº£i ngoáº¡i lá»‡ vá»›i 117 triá»‡u tÃ i khoáº£n. Tuy nhiÃªn tin táº·c khÃ´ng pháº£i lÃ  \_\_ duy nháº¥t nháº¯m tá»›i thÃ´ng tin cá»§a ngÆ°á»i dÃ¹ng, Ä‘Ã´i khi chÃ­nh nhá»¯ng nhÃ  cung cáº¥p dá»‹ch vá»¥ chia sáº½ thÃ´ng tin ngÆ°á»i dÃ¹ng vá»›i nhá»¯ng tá»• chá»©c khÃ¡c mÃ  khÃ´ng cÃ³ sá»± Ä‘á»“ng Ã½ cá»§a ngÆ°á»i dÃ¹ng. CÆ¡ quan An ninh Quá»‘c gia Má»¹ (NSA) Ä‘Ã£ khai thÃ¡c nhá»¯ng gÃ£ khá»•ng lá»“ cÃ´ng nghá»‡ nhÆ° Apple, Google, Facebook, Amazon Web Services (AWS) Ä‘á»ƒ theo dÃµi hoáº¡t Ä‘á»™ng cá»§a ngÆ°á»i dÃ¹ng [41]. Nhá»¯ng váº¥n Ä‘á» nÃ y Ä‘Ã£ gÃ¢y ra má»™t cuá»™c tranh luáº­n lá»›n vá» quyá»n riÃªng tÆ° ngÆ°á»i dÃ¹ng vÃ  ngÃ y cÃ ng cÃ³ nhiá»u ngÆ°á»i báº¯t Ä‘áº§u quan tÃ¢m Ä‘áº¿n viá»‡c báº£o vá»‡ quyá»n riÃªng tÆ° trÃªn máº¡ng cá»§a chÃ­nh mÃ¬nh.

Loáº¡i hÃ¬nh dá»‹ch vá»¥ lÆ°u trá»¯ Ä‘Ã¡m mÃ¢y cÅ©ng khÃ´ng pháº£i lÃ  ngoáº¡i lá»‡ trong váº¥n Ä‘á» nÃ y, hÆ¡n tháº¿ ná»¯a, loáº¡i hÃ¬nh dá»‹ch vá»¥ nÃ y cÃ²n gáº·p váº¥n Ä‘á» lá»›n hÆ¡n vÃ¬ khÃ´ng chá»‰ dá»¯ liá»‡u cá»§a ngÆ°á»i dÃ¹ng bá»‹ tháº¥t thoÃ¡t, mÃ  cáº£ content (ná»™i dung) mÃ  ngÆ°á»i dÃ¹ng lÆ°u trá»¯. Äá»ƒ pháº§n nÃ o giáº£i quyáº¿t váº¥n Ä‘á» Ä‘á»‘i vá»›i loáº¡i hÃ¬nh dá»‹ch vá»¥ nÃ y, chÃºng tÃ´i Ä‘Ã£ thiáº¿t káº¿ vÃ  phÃ¡t triá»ƒn má»™t prototype (nguyÃªn máº«u) sá»­ dá»¥ng cÃ´ng nghá»‡ blockchain vÃ  bittorrent. Prototype nÃ y lÃ  má»™t dá»‹ch vá»¥ lÆ°u trá»¯ mÃ  khÃ´ng yÃªu cáº§u ngÆ°á»i dÃ¹ng chia sáº½ dá»¯ liá»‡u cÃ¡ nhÃ¢n cá»§a há» cho nhÃ  cung cáº¥p. Viá»‡c xÃ¡c thá»±c vÃ  thanh toÃ¡n Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi Ethereum blockchain, viá»‡c upload vÃ  download content Ä‘Æ°á»£c hiá»‡n thá»±c dá»±a trÃªn giao thá»©c bittorrent. Prototype nÃ y cung cáº¥p má»™t self-contained digital identity system (há»‡ thá»‘ng nháº­n diá»‡n ká»¹ thuáº­t sá»‘ Ä‘á»™c láº­p) cho ngÆ°á»i dÃ¹ng cÃ¹ng lÃºc Ä‘Ã³ táº¡o nÃªn má»™t máº¡ng lÆ°á»›i nÆ¡i mÃ  má»i ngÆ°á»i cÃ³ thá»ƒ chia sáº» dung lÆ°á»£ng trong mÃ¡y cá»§a mÃ¬nh vá»›i nhau, ná»™i dung cá»§a ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c lÆ°u trá»¯ bá»Ÿi nhá»¯ng ngÆ°á»i dÃ¹ng khÃ¡c, vÃ  chá»‰ riÃªng ngÆ°á»i sá»Ÿ há»¯u nhá»¯ng ná»™i dung Ä‘Ã³ má»›i cÃ³ thá»ƒ xem Ä‘Æ°á»£c. Qua Ä‘Ã³, prototype nÃ y loáº¡i bá» pháº§n lá»›n sá»± phá»¥ thuá»™c cá»§a ngÆ°á»i sá»­ dá»¥ng dá»‹ch vá»¥ vá»›i nhÃ  cung cáº¥p, nhÆ°ng váº«n cho phÃ©p nhÃ  cung cáº¥p triá»ƒn khai logic cá»§a há» trong viá»‡c Ä‘á»‹nh danh ngÆ°á»i dÃ¹ng cÅ©ng nhÆ° dá»… dÃ ng má»Ÿ rá»™ng máº¡ng lÆ°á»›i, vÃ  thu tháº­p lá»£i nhuáº­n Ä‘á»ƒ duy trÃ¬ máº¡ng lÆ°á»›i cá»§a mÃ¬nh.

# 1. Má»Ÿ Ä‘áº§u

## 1.1 BÃ¡o cÃ¡o váº¥n Ä‘á»

ChÃºng tÃ´i nÃªu rÃµ váº¥n Ä‘á» mÃ  chÃºng tÃ´i giáº£i quyáº¿t nhÆ° sau: LÆ°u trá»¯ dá»¯ liá»‡u vÃ  ná»™i dung cá»§a ngÆ°á»i dÃ¹ng má»™t cÃ¡ch táº­p trung nhÆ° nhá»¯ng nhÃ  cung cáº¥p dá»‹ch vá»¥ lÆ°u trá»¯ Ä‘Ã¡m mÃ¢y váº«n Ä‘ang lÃ m tuy Ä‘Ã£ lÃ  tiÃªu chuáº©n tá»« ráº¥t lÃ¢u nhÆ°ng giá» Ä‘Ã¢y Ä‘Ã£ cÃ³ nhiá»u háº¡n cháº¿ vÃ  chá»©a dá»±ng nhiá»u má»‘i nguy hiá»ƒm tiá»m áº©n cho dá»¯ liá»‡u cá»§a ngÆ°á»i dÃ¹ng. Äá»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y, chÃºng tÃ´i Ä‘Ã£ thiáº¿t káº¿ vÃ  hiá»‡n thá»±c má»™t prototype, má»™t máº¡ng lÆ°á»›i chia sáº» dung lÆ°á»£ng lÆ°u trá»¯ cÃ¹ng vá»›i má»™t há»‡ thá»‘ng thanh toÃ¡n mÃ  khÃ´ng Ä‘Ã²i há»i ngÆ°á»i sá»­ dá»¥ng pháº£i chia sáº» thÃ´ng tin cÃ¡ nhÃ¢n cá»§a mÃ¬nh.

## 1.2 SÆ¡ lÆ°á»£c ná»™i dung

á» chÆ°Æ¡ng nÃ y chÃºng tÃ´i Ä‘á» cáº­p Ä‘áº¿n Ä‘á»™ng lá»±c, váº¥n Ä‘á» vÃ  hÆ°á»›ng giáº£i quyáº¿t. ChÆ°Æ¡ng 2 mÃ´ táº£ cÃ¡c khÃ¡i niá»‡m chÃ­nh vá» cÃ¡ch thá»©c authentication (xÃ¡c thá»±c), storage (lÆ°u trá»¯) vÃ  (billing) thanh toÃ¡n hiá»‡n cÃ³ cá»§a nhá»¯ng dá»‹ch vá»¥ lÆ°u trá»¯ Ä‘Ã¡m mÃ¢y hiá»‡n táº¡i vÃ  nhá»¯ng lá»• há»•ng cÃ³ thá»ƒ cÃ³. Tiáº¿p Ä‘Ã³, chÆ°Æ¡ng 3 trÃ¬nh bÃ y khÃ¡i niá»‡m chÃ­nh vá» cÃ´ng nghá»‡ Blockchain, kiáº¿n trÃºc cá»§a nÃ³, cÃ¡ch nÃ³ hoáº¡t Ä‘á»™ng vÃ  cÃ¡c lá»— há»•ng cá»§a nÃ³. ChÆ°Æ¡ng 4 mÃ´ táº£ cÃ¡c á»©ng dá»¥ng Blockchain phá»• biáº¿n nháº¥t. ChÆ°Æ¡ng 5 giáº£i thÃ­ch lÃ½ do Ä‘áº±ng sau nhá»¯ng cÃ´ng nghá»‡ Ä‘Æ°á»£c lá»±a chá»n Ä‘á»ƒ hiá»‡n thá»±c prototype. ChÆ°Æ¡ng 6 bÃ n vá» thiáº¿t káº¿, kiáº¿n trÃºc, diagram (sÆ¡ Ä‘á»“) cá»§a prototype. ChÆ°Æ¡ng 7 lÃ  cÃ¡ch thá»©c chÃºng tÃ´i hiá»‡n thá»±c, triá»ƒn khai prototype vÃ  cÃ¡ch mÃ  nÃ³ hoáº¡t Ä‘á»™ng. ChÆ°Æ¡ng cuá»‘i cÃ¹ng bÃ n vá» káº¿t quáº£ má»›i Ä‘áº¡t Ä‘Æ°á»£c so vá»›i nhá»¯ng gÃ¬ hiá»‡n cÃ³.

# 2. XÃ¡c thá»±c, LÆ°u trá»¯ vÃ  Thanh toÃ¡n

Cloud service Ä‘Æ°á»£c chia ra lÃ m 3 loáº¡i: software as a service (SaaS), platform as a service (PaaS) vÃ  infrastructure as a service (IaaS). Cloud storage service lÃ  má»™t dáº¡ng PaaS, trong Ä‘Ã³ nhÃ  cung cáº¥p cho ngÆ°á»i dÃ¹ng dung lÆ°á»£ng lÆ°u trá»¯ vá»›i sá»± Ä‘áº£m báº£o vá» security (báº£o máº­t), availability (kháº£ dá»¥ng), consistency (nguyÃªn váº¹n). Kiáº¿n trÃºc Ä‘Æ°á»£c sá»­ dá»¥ng phá»• biáº¿n nháº¥t Ä‘á»ƒ hiá»‡n thá»±c loáº¡i dá»‹ch vá»¥ nÃ y lÃ  client-server, trong Ä‘Ã³ client (ngÆ°á»i dÃ¹ng) tÆ°Æ¡ng tÃ¡c vá»›i server (mÃ¡y chá»§) chá»©a nhá»¯ng business logic(logic nghiá»‡p vá»¥) cáº§n thiáº¿t. XÃ¡c thá»±c lÃ  quÃ¡ trÃ¬nh xÃ¡c minh danh tÃ­nh cá»§a ngÆ°á»i dÃ¹ng, lÆ°u trá»¯ lÃ  quÃ¡ trÃ¬nh nhÃ  cung cáº¥p lÆ°u trá»¯ cÅ©ng nhÆ° serve (phá»¥c vá»¥) content cá»§a ngÆ°á»i dÃ¹ng. Thanh toÃ¡n lÃ  sá»± káº¿t há»£p cá»§a quÃ¡ trÃ¬nh theo dÃµi tÃ i nguyÃªn sá»­ dá»¥ng cá»§a ngÆ°á»i dÃ¹ng vÃ  kiá»ƒm toÃ¡n, phÃ¢n tÃ­ch dá»¯ liá»‡u.

[Figure 1: General Cloud Storage Service Architecture]

HÃ¬nh 1 cho tháº¥y kiáº¿n trÃºc phá»• biáº¿n cá»§a cloud storage service vá»›i mÃ´ hÃ¬nh client-server, trong Ä‘Ã³ client cÃ³ thá»ƒ lÃ  má»™t á»©ng dá»¥ng web hoáº·c á»©ng dá»¥ng mÃ¡y tÃ­nh cÃ³ thá»ƒ sá»­ dá»¥ng tÃ i nguyÃªn tÃ­nh phÃ­ cá»§a server sau khi Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c thá»±c bá»Ÿi server. Client tÆ°Æ¡ng tÃ¡c vá»›i server báº±ng cÃ¡ch gá»­i request (yÃªu cáº§u) tá»›i server. Authentication service Ä‘Æ°á»£c hiá»‡n thá»±c trÃªn server sáº½ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng, náº¿u viá»‡c xÃ¡c thá»±c thÃ nh cÃ´ng, request sáº½ Ä‘Æ°á»£c chuyá»ƒn tiáº¿p Ä‘áº¿n resource service Ä‘á»ƒ tráº£ vá» resource mÃ  ngÆ°á»i dÃ¹ng cáº§n. Trong trÆ°á»ng há»£p ngÆ°á»£c láº¡i, authentication service sáº½ tráº£ lá»—i vá» client nhÆ° trong HÃ¬nh 1. Cuá»‘i cÃ¹ng, Billing Service theo dÃµi lÆ°á»£ng tÃ i nguyÃªn mÃ  ngÆ°á»i dÃ¹ng sá»­ dá»¥ng Ä‘á»ƒ thá»±c hiá»‡n viá»‡c kiá»ƒm toÃ¡n vÃ  thanh toÃ¡n.

## 2.1 XÃ¡c thá»±c

XÃ¡c thá»±c lÃ  cÆ¡ cháº¿ mÃ  nhÃ  cung cáº¥p dá»‹ch vá»¥ Ä‘Ã¡m mÃ¢y sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh ngÆ°á»i dÃ¹ng trÆ°á»›c khi cáº¥p quyá»n truy cáº­p cho há». NhÃ  cung cáº¥p cho phÃ©p ngÆ°á»i dÃ¹ng sá»­ dá»¥ng cÃ¡c dá»‹ch vá»¥ cá»§a há» dá»±a trÃªn cÃ¡c thÃ´ng tin Ä‘Äƒng nháº­p Ä‘Æ°á»£c cung cáº¥p trong quÃ¡ trÃ¬nh Ä‘Äƒng kÃ½. Viá»‡c xÃ¡c thá»±c thÆ°á»ng Ä‘Æ°á»£c dá»±a trÃªn 3 yáº¿u tá»‘: what-you-know (cÃ¡i ngÆ°á»i dÃ¹ng biáº¿t), what-you-have (cÃ¡i ngÆ°á»i dÃ¹ng cÃ³), vÃ  who-you-are (ngÆ°á»i dÃ¹ng lÃ  ai). What-you-know lÃ  nhá»¯ng thá»© mÃ  ngÆ°á»i dÃ¹ng biáº¿t nhÆ°: tÃªn Ä‘Äƒng nháº­p, máº­t kháº©u hoáº·c mÃ£ PIN. What-you-have lÃ  nhá»¯ng gÃ¬ ngÆ°á»i dÃ¹ng sá»Ÿ há»¯u nhÆ° tháº» tá»« (thÃ´ng tin nháº­n dáº¡ng Ä‘Æ°á»£c mÃ£ hÃ³a trÃªn tháº» flash), authenticator trÃªn Ä‘iá»‡n thoáº¡i thÃ´ng minh. Who-are-you lÃ  nhá»¯ng Ä‘áº·c Ä‘iá»ƒm sinh tráº¯c há»c mÃ  chá»‰ cÃ³ ngÆ°á»i dÃ¹ng Ä‘Ã³ sá»Ÿ há»¯u nhÆ° dáº¥u vÃ¢n tay, má»‘ng máº¯t.

### 2.1.1 TÃªn Ä‘Äƒng nháº­p vÃ  máº­t kháº©u

TÃªn Ä‘Äƒng nháº­p vÃ  máº­t kháº©u lÃ  phuÆ¡ng thá»©c xÃ¡c thá»±c Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u nháº¥t. NgÆ°á»i dÃ¹ng láº§n Ä‘áº§u tiÃªn Ä‘Äƒng kÃ½ cung cáº¥p cho nhÃ  cung cáº¥p dá»¯ liá»‡u cá»§a há» nhÆ°: tÃªn Ä‘Äƒng nháº­p, máº­t kháº©u, email, sá»‘ Ä‘iá»‡n thoáº¡i, chi tiáº¿t thá»ƒ tÃ­n dá»¥ng v.v... .Sau khi Ä‘Äƒng kÃ­ hoÃ n táº¥t, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ truy cáº­p dá»‹ch vá»¥ sá»­ dá»¥ng tÃªn Ä‘Äƒng nháº­p vÃ  máº­t kháº©u há» Ä‘Ã£ cung cáº¥p trong quÃ¡ trÃ¬nh Ä‘Äƒng kÃ­. Tuy nhiÃªn, Ä‘Ã¢y khÃ´ng pháº£i lÃ  phÆ°Æ¡ng phÃ¡p xÃ¡c thá»±c an toÃ n tuyá»‡t Ä‘á»‘i, vÃ¬ Ä‘á»™ báº£o máº­t cá»§a phÆ°Æ¡ng phÃ¡p nÃ y phá»¥ thuá»™c vÃ o Ä‘á»™ dÃ i vÃ  Ä‘áº·c Ä‘iá»ƒm cá»§a máº­t kháº©u. VÃ  ngay cáº£ máº­t kháº©u phá»©c táº¡p cÅ©ng váº«n cÃ³ thá»ƒ bá»‹ Ä‘Ã¡nh báº¡i bá»Ÿi phÆ°Æ¡ng phÃ¡p brute-force (cÆ¡ báº¯p). BÃªn cáº¡nh Ä‘Ã³, máº­t kháº©u phá»©c táº¡p cÃ³ xu hÆ°á»›ng khÃ³ nhá»›, vÃ  vÃ¬ tháº¿ dáº«n Ä‘áº¿n viá»‡c nhiá»u ngÆ°á»i dÃ¹ng sá»­ dá»¥ng má»™t máº­t kháº©u cho nhiá»u dá»‹ch vá»¥ khÃ¡c nhau.

### 2.1.2 Sinh tráº¯c há»c

XÃ¡c thá»±c báº±ng sinh tráº¯c há»c lÃ  má»™t trong nhá»¯ng phÆ°Æ¡ng phÃ¡p xÃ¡c thá»±c tiÃªn tiáº¿n nháº¥t. PhÆ°Æ¡ng phÃ¡p nÃ y sá»­ dá»¥ng Ä‘áº·c Ä‘iá»ƒm sinh tráº¯c há»c cá»§a ngÆ°á»i dÃ¹ng nhÆ° dáº¥u vÃ¢n tay, má»‘ng máº¯t, giá»ng nÃ³i, hoáº·c tháº­m chÃ­ lÃ  phÃ¢n tÃ­ch dÃ¡ng Ä‘i Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng. PhÆ°Æ¡ng phÃ¡p nÃ y an toÃ n nháº¥t so vá»›i cÃ¡c phÆ°Æ¡ng phÃ¡p xÃ¡c thá»±c khÃ¡c vÃ¬ má»™t há»‡ thá»‘ng lÃ m viá»‡c chÃ­nh xÃ¡c Ä‘Ã²i há»i tin táº·c pháº£i cÃ³ nhá»¯ng Ä‘áº·c Ä‘iá»ƒm sinh tráº¯c há»c giá»‘ng hoÃ n toÃ n vá»›i ngÆ°á»i dÃ¹ng Ä‘á»ƒ cÃ³ thá»ƒ báº» khoÃ¡, Ä‘iá»u mÃ  kháº£ nÄƒng xáº£y ra lÃ  ráº¥t hiáº¿m hoáº·c káº» táº¥n cÃ´ng pháº£i tiáº¿p xÃºc vá»›i náº¡n nhÃ¢n. Tuy niÃªn cÃ´ng nghá»‡ nÃ y váº«n cÃ²n ráº¥t tá»‘n kÃ©m Ä‘á»ƒ thá»±c hiá»‡n má»™t cÃ¡ch Ä‘áº¡i trÃ  vÃ  tÃ­nh chÃ­nh xÃ¡c cá»§a cÃ´ng nghá»‡ nÃ y váº«n cÃ²n lÃ  má»™t váº¥n Ä‘á».

### 2.1.3 Multi-Factor

Multi-Factor authentication (xÃ¡c thá»±c Ä‘a yáº¿u tá»‘) lÃ  má»™t phÆ°Æ¡ng phÃ¡p xÃ¡c thá»±c nÃ¢ng cao sá»­ dá»¥ng káº¿t há»£p what-you-know vÃ  what-you-have hoáº·c what-you-are Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i dÃ¹ng. VÃ­ dá»¥: ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ sá»­ dá»¥ng tháº» ATM cÃ¹ng vá»›i mÃ£ PIN hoáº·c dáº¥u vÃ¢n tay. TÆ°Æ¡ng tá»±, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ truy cáº­p vÃ o dá»‹ch vá»¥ Ä‘Ã¡m mÃ¢y báº±ng máº­t kháº©u vÃ  mÃ£ tá»« má»™t thiáº¿t bá»‹ pháº§n cá»©ng (thÆ°á»ng lÃ  smartphone) Ä‘Æ°á»£c liÃªn káº¿t tá»« trÆ°á»›c. PhÆ°Æ¡ng phÃ¡p nÃ y thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng nhÆ°ng Ä‘Ã²i há»i chi phÃ­ triá»ƒn khai cao hÆ¡n.

## 2.2 LÆ°u trá»¯

TODO

## 2.3 Thanh toÃ¡n

Viá»‡c thanh toÃ¡n Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng cÃ¡ch tá»•ng há»£p sá»‘ liá»‡u thá»‘ng káº¿ tÃ i nguyÃªn Ä‘Æ°á»£c ngÆ°á»i dÃ¹ng sá»­ dá»¥ng trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh káº¿t há»£p giÃ¡ Ä‘Æ°á»£c Ä‘á»‹nh trÆ°á»›c bá»Ÿi nhÃ  cung cáº¥p. TÃ i nguyÃªn nÃ y cÃ³ thá»ƒ lÃ  bÄƒng thÃ´ng, dung lÆ°á»£ng Ä‘Ä©a, hoáº·c tháº­m chÃ­ lÃ  lÆ°á»£t truy cáº­p.

Má»™t há»‡ thá»‘ng thanh toÃ¡n bao gá»“m ba service (dá»‹ch vá»¥) cÆ¡ báº£n: metering (Ä‘o lÆ°á»ng), accounting (kiá»ƒm toÃ¡n) vÃ  billing (thanh toÃ¡n). Há»‡ thá»‘ng nÃ y theo dÃµi tÃ i nguyÃªn mÃ  ngÆ°á»i dÃ¹ng sá»­ dá»¥ng thÃ´ng qua metering service, output cá»§a nÃ y lÃ  metering data sáº½ Ä‘Æ°á»£c chuyá»ƒn tiáº¿p Ä‘áº¿n accouting service nhÆ° trong HÃ¬nh 2. Accounting service sáº½ phÃ¢n tÃ­ch vÃ  tÃ­nh toÃ¡n lÆ°á»£n tÃ i nguyÃªn Ä‘Æ°á»£c sá»­ dá»¥ng vÃ  táº¡o ra accounting data. Cuá»‘i cÃ¹ng acouting data Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi billing service Ä‘á»ƒ yÃªu cáº§u ngÆ°á»i dÃ¹ng thanh toÃ¡n dá»±a trÃªn thÃ´ng tin ngÆ°á»i dÃ¹ng cung cáº¥p trong lÃºc Ä‘Äƒng kÃ½ sá»­ dá»¥ng dá»‹ch vá»¥.

[Figure 2: General Accounting Architecture].

## 2.4 Nhá»¯ng lá»— há»•ng tiá»m áº©n

Máº·c dÃ¹ cÃ¡c nhÃ  cung cáº¥p dá»‹ch vá»¥ lÆ°u trá»¯ Ä‘Ã¡m mÃ¢y Ä‘Ã£ sá»­ dá»¥ng nhá»¯ng giao thá»©c, cÃ´ng nghá»‡ tiÃªu chuáº©n Ä‘Æ°á»£c phÃ¡t triá»ƒn trong hÆ¡n má»™t tháº­p ká»· nhÆ°ng nhiá»u lá»— há»•ng tiá»m áº©n lá»›n váº«n cÃ²n tá»“n táº¡i nhÆ° táº¥n cÃ´ng DDoS, brute-force, man-in-the-middle, v.v... . Theo bÃ¡o cÃ¡o cá»§a Norton McAfee (cÃ´ng ty pháº§n má»m báº£o máº­t mÃ¡y tÃ­nh) nÄƒm 2014 vÃ  chi phÃ­ toÃ n cáº§u cá»§a tá»™i pháº¡m máº¡ng, sáº½ cÃ³ tá»•n tháº¥t kinh táº¿ toÃ n cáº§u tá»« 375 Ä‘áº¿n 575 tá»· Ä‘Ã´ la má»—i nÄƒm, cao hÆ¡n thu nháº­p quá»‘c gia cá»§a háº§u háº¿t cÃ¡c quá»‘c gia vÃ  chÃ­nh phá»§ [23].

## 2.5 Nhá»¯ng háº¡n cháº¿

Nhá»¯ng háº¡n cháº¿ chÃ­nh cá»§a nhá»¯ng dá»‹ch vá»¥ lÆ°u trá»¯ Ä‘Ã¡m mÃ¢y hiá»‡n nay lÃ  chá»§ thá»ƒ chÃ­nh kiá»ƒm soÃ¡t quyá»n sá»Ÿ há»¯u dá»¯ liá»‡u cá»§a ngÆ°á»i dÃ¹ng lÃ  nhÃ  cung cáº¥p vÃ  chi phÃ­ triá»ƒn khai vÃ  váº­n hÃ nh há»‡ thá»‘ng ráº¥t cao. Nhá»¯ng lÃ½ do Ä‘áº±ng sau nhá»¯ng háº¡n cháº¿ nÃ y lÃ  kiáº¿n trÃºc client-server Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi nhÃ  cung cáº¥p vÃ  Ä‘iá»u khoáº£n dá»‹ch vá»¥ (Term of service). Term of service lÃ  nhá»¯ng Ä‘iá»u khoáº£n mÃ  ngÆ°á»i dÃ¹ng pháº£i Ä‘á»“ng Ã½ Ä‘á»ƒ sá»­ dá»¥ng dá»‹ch vá»¥ tá»« nhÃ  cung cáº¥p. háº§u háº¿t cÃ¡c term of service trao quyá»n sá»­ dá»¥ng dá»¯ liá»‡u cá»§a ngÆ°á»Ÿi dÃ¹ng cho nhÃ  cung cáº¥p. Do Ä‘Ã³, vá»›i kiáº¿n trÃºc client-server, dá»¯ liá»‡u ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c lÆ°u vÃ o cÃ¡c mÃ¡y chá»§ trung tÃ¢m, vÃ  vá»›i term of service, cÃ¡c nhÃ  cung cáº¥p háº§u nhÆ° cÃ³ toÃ n quyá»n kiá»ƒm soÃ¡t dá»¯ liá»‡u cá»§a ngÆ°á»i dÃ¹ng. NÃ³i cÃ¡ch khÃ¡c máº·c dÃ¹ dá»¯ liá»‡u thuá»™c vá» ngÆ°á»i sá»­ dá»¥ng, nÃ³ cuá»‘i cÃ¹ng láº¡i bá»‹ kiá»ƒm soÃ¡t bá»Ÿi cÃ¡c nhÃ  cung cáº¥p. Äiá»u nÃ y nháº¥n máº¡nh nhá»¯ng váº¥n Ä‘á» vá» quyá»n riÃªng tÆ° vÃ  báº£o máº­t dá»¯ liá»‡u cá»§a ngÆ°á»i dÃ¹ng cÅ©ng nhÆ° cÃ³ thá»ƒ dáº«n Ä‘áº¿n cÃ¡c lá»— há»•ng tiá»m áº©n nhÆ° Ä‘Æ°á»£c tháº£o luáº­n á»Ÿ má»¥c 2.4.

# 3. Blockchain

Blockchain lÃ  má»™t digital distributed ledger ("sá»• cÃ¡i" Ä‘iá»‡n tá»­ phÃ¢n tÃ¡n), chá»‰ cÃ³ thá»ƒ bá»‹ thay Ä‘á»•i bá»Ÿi nhá»¯ng transaction (giao dá»‹ch) Ä‘Æ°á»£c thÃªm vÃ o bá»Ÿi máº¡ng lÆ°á»›i nhá»¯ng ngÆ°á»i sá»­ dá»¥ng vÃ  duy trÃ¬ nÃ³. KhÃ¡i niá»‡m blockchain láº§n Ä‘áº§u tiá»n Ä‘Æ°á»£c giá»›i thiá»‡u bá»Ÿi Satoshi Nakamoto vÃ o nÄƒm 2008 [1](Nakamoto, S.: Bitcoin: A peer-to-peer electronic cash system. Technical report, Bitcoin org, 2008.) vÃ  Ä‘Æ°á»£c nháº¯c Ä‘áº¿n nhÆ° tiá»n Ä‘á» cho cÃ´ng nghá»‡ tiá»n áº£o Bitcoin. Ã tÆ°á»Ÿng cá»‘t lÃµi cá»§a Blockchain lÃ  táº¡o má»™t kÃªnh giao dá»‹ch tÃ i sáº£n giá»¯a hai bÃªn má»™t cÃ¡ch nhanh chÃ³ng, tiáº¿t kiá»‡m, an toÃ n, á»•n Ä‘á»‹nh, minh báº¡ch vÃ  Ä‘Ã¡ng tin cáº­y mÃ  khÃ´ng thÃ´ng qua trung gian. TÃ i sáº£n trong kÃªnh giao dá»‹ch giá»¯a hai bÃªn lÃ  dá»¯ liá»‡u Ä‘áº£m báº£o cho sá»± tin tÆ°á»Ÿng giá»¯a hai bÃªn, má»™t sá»‘ vÃ­ dá»¥ cÃ³ thá»ƒ ká»ƒ ra nhÆ°: tiá»n, tÃ i liá»‡u, há»£p Ä‘á»“ng,...

Blockchain cÃ³ thá»ƒ tá»“n táº¡i dÆ°á»›i dáº¡ng private (riÃªng tÆ°) hoáº·c public (cÃ´ng khai). Public blockchain (blockchain cÃ´ng khai) cho phÃ©p má»i ngÆ°á»i cÃ³ thá»ƒ dÃ¹ng nÃ³ vÃ­ dá»¥ nhÆ° blockchain cá»§a Bitcoin hoáº·c Ethereum. Trong khi Ä‘Ã³ private blockchain (blockchain riÃªng) yÃªu cáº§u ngÆ°á»i dÃ¹ng pháº£i Ä‘Æ°á»£c xÃ¡c thá»±c trÆ°á»›c khi sá»­ dá»¥ng vÃ  thÆ°á»ng Ä‘Æ°á»£c táº¡o ra vÃ  chá»‰ Ä‘Æ°á»£c sá»­ dá»¥ng bÃªn trong má»™t tá»• chá»©c nháº¥t Ä‘á»‹nh vÃ­ dá»¥ nhÆ° má»™t cÃ´ng ty chuá»—i cung á»©ng cÃ³ thá»ƒ sá»­ dá»¥ng private blockchain cho cÃ¡c giao dá»‹ch cá»§a há».

NgÆ°á»i dÃ¹ng blockchain cÃ³ thá»ƒ nhá» bÃ© má»™t cÃ¡ nhÃ¢n Ä‘am mÃª cÃ´ng nghá»‡ hay cho Ä‘áº¿n cÃ¡c táº­p Ä‘oÃ n tÃ i chÃ­nh vÃ  thÆ°Æ¡ng máº¡i nhÆ° Nasdaq, Axoni, Deloitte, Finetch, The Linux Foundation, IBM v.v... . CÃ¡c táº­p Ä‘oÃ n tÃ i chÃ­nh nÃ y Ä‘ang thÃºc Ä‘áº©y sá»± an toÃ n, á»•n Ä‘á»‹nh, minh báº¡ch vÃ  kháº£ nÄƒng loáº¡i bá» bÃªn trung gian cá»§a blockchain cho lá»£i tháº¿ cá»§a há». Nasdaq Ä‘ang sá»­ dá»¥ng blockchain Ä‘á»ƒ ghi láº¡i táº¥t cáº£ cÃ¡c private transaction (giao dá»‹ch riÃªng tÆ°) cá»§a há». Deloitte Ä‘ang lÃ m viá»‡c vá»›i cÃ¡c startup vÃ  khÃ¡ch Ä‘á»ƒ phÃ¡t triá»ƒn má»™t smart identity system (há»‡ thá»‘ng Ä‘á»‹nh danh thÃ´ng minh) cho khÃ¡ch hÃ ng cá»§a há» lÃ  cÃ¡c ngÃ¢n hÃ ng. Linux Foundation Ä‘ang phÃ¡t triá»ƒn dá»± Ã¡n Hyperledger cho cÃ¡c doanh nghiá»‡p. IBM cÃ³ nhiá»u dá»± Ã¡n mÃ£ nguá»“n má»Ÿ liÃªn quan Ä‘áº¿n Blockchain vÃ  Ä‘ang xÃ¢y dá»±ng má»™t ledger chuáº©n cÃ´ng nghiá»‡p. Startup Finetch Ä‘Æ°á»£c há»— trá»£ bá»Ÿi 40 ngÃ¢n hÃ ng toÃ n cáº§u Ä‘á»ƒ phÃ¡t triá»ƒn má»™t kiá»ƒn trÃºc chuáº©n cho private ledger nháº±m cáº¯t giáº£m chi phÃ­ vÃ  thá»i gian giáº£i quyáº¿t cÃ¡c giao dá»‹ch.

Trong lÄ©nh vá»±c thÆ°Æ¡ng máº¡i, Everledger vÃ  Factom váº«n Ä‘ang tÃ­ch cá»±c phÃ¡t triá»ƒn cÃ´ng nghá»‡ cá»§a há» dá»±a trÃªn blockchain [36](). Everledger Ä‘ang táº­p trung vÃ o viá»‡c Ä‘á»‹nh danh vÃ  há»£p phÃ¡p hÃ³a cÃ¡c váº­t pháº©m dá»±a trÃªn blockchain. TÆ°Æ¡ng tá»±, Factom cÅ©ng Ä‘ang á»©ng dá»¥ng blockchain trong máº£ng báº£o máº­t dá»¯ liá»‡u. Há» nháº­n tÃ i trá»£ tá»« sá»Ÿ ná»™i vá»¥ Hoa Ká»³ Ä‘á»ƒ thu tháº­p dá»¯ liá»‡u tá»« cÃ¡c thiáº¿t bá»‹ ngoáº¡i vi. HÆ¡n ná»¯a, há» cÅ©ng lÃ m viá»‡c cho nhiá»u dá»± Ã¡n á»Ÿ Trung Quá»‘c Ä‘á»ƒ xÃ¢y dá»±ng má»™t thÃ nh phá»‘ thÃ´ng minh. Nhá»¯ng thÃ nh phá»‘ Ä‘Ã³ tÃ­ch há»£p blockchain vÃ o dá»‹ch vá»¥ cung cáº¥p Ä‘iá»‡n, dá»‹ch vá»¥ cÃ´ng chá»©ng, giao dá»‹ch tÃ i chÃ­nh Ä‘á»ƒ Ä‘áº£m báº£o sá»± chÃ­nh xÃ¡c cá»§a dá»¯ liá»‡u.

á» cÃ¡c nÆ°á»›c Ä‘ang phÃ¡t triá»ƒn, blockchain cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chuyá»ƒn tiá»n nhanh chÃ³ng tá»« nÆ°á»›c ngoÃ i vÃ  thá»±c hiá»‡n giao dá»‹ch. NgÃ¢n HÃ ng Tháº¿ Giá»›i vÃ  LiÃªn Há»£p Quá»‘c Ä‘Ã£ khá»Ÿi xÆ°á»›ng cÃ¡c dá»± Ã¡n khÃ¡c nhau vá» digital identity (nháº­n dáº¡ng ká»¹ thuáº­t sá»‘) Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ Ä‘Äƒng kÃ½ Ä‘áº¥t Ä‘ai vÃ  tÃ i chÃ­nh cho cÃ¡c doanh nghiá»‡p vá»«a vÃ  nhá». BÃªn cáº¡nh Ä‘Ã³ nhiá»u trÆ°á»ng Ä‘áº¡i há»c nhÆ° MIT, Princeton, Berkley Ä‘ang nghiÃªn cá»©u vÃ  há»— trá»£ blockchain. CÅ©ng cÃ³ má»™t cá»™ng Ä‘á»“ng blockchain W3 Ä‘ang Ä‘á»‹nh hÆ°á»›ng chuáº©n hÃ³a cho blockchain nhÆ° Ä‘á»‹nh dáº¡ng tin nháº¯n, public-private blockchain vÃ  Ä‘Ã¡nh giÃ¡ cÃ¡c cÃ´ng nghá»‡ má»›i liÃªn quan tá»›i block chain.

## 3.1 Thuáº­t Ngá»¯

Tiá»ƒu má»¥c nÃ y giáº£i thÃ­ch vá» cÃ¡c thuáº­t ngá»¯ cÆ¡ báº£n Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ´ng nghá»‡ blockchain. Nhá»¯ng thuáº­t ngá»¯ nÃ y bao gá»“m Peer-to-peer network (Máº¡ng ngang hÃ ng), block, blockchain, distributed blockchain (blockchain phÃ¢n tÃ¡n, phi táº­p trung) vÃ  smart contracts (há»£p Ä‘á»“ng thÃ´ng minh).

### 3.1.1 Peer-to-Peer network

Peer-to-peer (P2P) lÃ  má»™t kiáº¿n trÃºc máº¡ng phÃ¢n tÃ¡n nÆ¡i mÃ  má»—i bÃªn tham gia (mÃ¡y tÃ­nh) chia sáº» tÃ i nguyÃªn pháº§n cá»©ng nhÆ° kháº£ nÄƒng tÃ­nh toÃ¡n, lÆ°u trá»¯, Ä‘Æ°á»ng truyá»n vá»›i nhá»¯ng bÃªn cÃ²n láº¡i. Má»—i mÃ¡y tÃ­nh trong máº¡ng lÆ°á»›i Ä‘Æ°á»£c gá»i lÃ  node, nhá»¯ng node nÃ y chia sáº» tÃ i nguyÃªn vá»›i nhau mÃ  khÃ´ng cáº§n pháº£i qua má»™t bÃªn trung gian nhÆ° server, táº¡i má»™t thá»i Ä‘iá»ƒm, má»™t node cÃ³ thá»ƒ vá»«a lÃ  bÃªn tiÃªu thá»¥ vá»«a lÃ  bÃªn cung cáº¥p tÃ i nguyÃªn. Vá»›i nhá»¯ng Ä‘áº·c tÃ­nh nÃ y, P2P network cho phÃ©p ngÆ°á»i trong máº¡ng lÆ°á»›i cÃ³ kháº£ nÄƒng sá»­ dá»¥ng cÅ©ng nhÆ° cung cáº¥p tÃ i nguyÃªn cá»§a toÃ n máº¡ng lÆ°á»›i mÃ  váº«n cÃ³ thá»ƒ hoÃ n toÃ n áº©n danh.

Blockchain sá»­ dá»¥ng kiáº¿n trÃºc máº¡ng P2P Ä‘á»ƒ Ä‘áº£m báº£o tÃ­nh phÃ¢n tÃ¡n vá»›i khÃ´ng má»™t single point of failure. NgÆ°á»i bÃªn trong máº¡ng lÆ°á»›i blockchain Ä‘Æ°á»£c chia lÃ m 2 bÃªn: member peer (bÃªn thÃ nh viÃªn) vÃ  miner peer (bÃªn khai thÃ¡c). Member thay Ä‘á»•i dá»¯ liá»‡u bÃªn trong blockchain báº±ng cÃ¡ch táº¡o ra transaction, nhá»¯ng transaction nÃ y pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n vÃ  xÃ¡c thá»±c bá»Ÿi miner. Má»—i miner cÃ³ má»™t báº£n sao transaction history (lá»‹ch sá»­ giao dá»‹ch) vÃ  cÃ³ trÃ¡ch nhiá»‡m duy trÃ¬, Ä‘á»“ng bá»™ transaction history cá»§a mÃ¬nh vá»›i máº¡ng lÆ°á»›i. Khi cÃ³ má»™t trasaction má»›i, miner Ä‘áº§u tiÃªn thá»±c hiá»‡n, xÃ¡c thá»±c vÃ  Ä‘á»“ng bá»™ thÃ nh cÃ´ng transaction Ä‘Ã³ vá»›i máº¡ng lÆ°á»›i sáº½ nháº­n Ä‘Æ°á»£c pháº§n thÆ°á»Ÿng tá»« máº¡ng lÆ°á»›i vÃ  phÃ­ mÃ  member Ä‘Ã£ bá» ra khi táº¡o ra transaction Ä‘Ã³.

### 3.1.2 Block

Blockchain Ä‘Æ°á»£c cáº¥u táº¡o tá»« block, block lÃ  táº­p há»£p cá»§a nhiá»u transaction vÃ  meta-data nhÆ° Ä‘Æ°á»£c thá»ƒ hiá»‡n á»Ÿ HÃ¬nh 3.1. Miner cÃ³ nhiá»‡m vá»¥ thu tháº­p nhá»¯ng dá»¯ liá»‡u há»£p lá»‡ (transaction) trong má»™t khoáº£ng thá»i gian nháº¥t Ä‘á»‹nh Ä‘á»ƒ táº¡o thÃ nh má»™t block vÃ  tÃ­nh toÃ¡n hash (mÃ£ bÄƒm) trong meta-data cá»§a block Ä‘Ã³. Tuy nhiÃªn, hash Ä‘Æ°á»£c táº¡o ra pháº£i cÃ³ Ä‘á»‹nh dáº¡ng Ä‘Æ°á»£c quy Ä‘á»‹nh cá»§a máº¡ng lÆ°á»›i, vÃ­ dá»¥ blockchain á»Ÿ hÃ¬nh 3.1 quy Ä‘á»‹nh má»™t block há»£p lá»‡ pháº£i cÃ³ hash cÃ³ Ã­t nháº¥t bá»‘n sá»‘ 0 Ä‘á»©ng Ä‘áº§u. Hash cá»§a má»™t block Ä‘Æ°á»£c táº¡o ra tá»« nhiá»u thÃ´ng tin nhÆ° hash cá»§a block trÆ°á»›c, data bÃªn trong block, vÃ  má»™t sá»‘ ngáº«u nhiÃªn. Äá»ƒ cÃ³ Ä‘Æ°á»£c hash há»£p lá»‡, miner pháº£i thay Ä‘á»•i sá»‘ ngáº«u nhiÃªn Ä‘Ã³ cho Ä‘áº¿n khi nÃ o hash Ä‘Æ°á»£c táº¡o ra thoáº£ mÃ£n quy Ä‘á»‹nh cá»§a blockchain. Sá»‘ ngáº«u nhiÃªn nÃ y Ä‘Æ°á»£c gá»i lÃ  number used once or number once (nonce). QuÃ¡ trÃ¬nh tÃ¬m ra nonce gá»i lÃ  quÃ¡ trÃ¬nh mining.

![hÃ¬nh 3.1: Block](./images/3.1-Block.png)

HÃ¬nh 3.1 lÃ  má»™t block máº«u cÃ³ unique index (sá»‘ thá»© tá»± duy nháº¥t), nonce, data vÃ  hash. Unique index lÃ  #1, Nonce lÃ  72608, data lÃ  dá»¯ liá»‡u báº¥t ká»³, trong trÆ°á»ng há»£p nÃ y lÃ  rá»—ng vÃ  hash cá»§a block data.

### 3.1.3 Blockchain

Blockchain lÃ  má»™t sÃ¡ch liÃªn káº¿t cá»§a cÃ¡c hash pointer (con trá» hash). NÃ³ lÃ  má»™t chuá»—i cá»§a cÃ¡c block nÆ¡i má»—i block chá»©a má»™t hash pointer tá»›i block trÆ°á»›c Ä‘Ã³. Con trá» hash nÃ y cho phÃ©p xÃ¡c thá»±c hash cá»­a dá»¯ liá»‡u trÆ°á»›c Ä‘Ã³. Náº¿u báº¥t kÃ¬ giÃ¡ trá»‹ nÃ o trong chuá»—i bá»‹ thay Ä‘á»•i thÃ¬ hash cÅ©ng thay Ä‘á»•i vÃ  con trá» hash cá»§a block tiáº¿p theo cÅ©ng bá»‹ thay Ä‘á»•i. Äáº·c Ä‘iá»ƒm nÃ y giÃºp ta cÃ³ thá»ƒ duyá»‡t con trá» hash ngÆ°á»£c láº¡i tá»›i báº¥t kÃ¬ block nÃ o, tháº­m chÃ­ lÃ  tá»›i khi gáº·p block Ä‘áº§u tiÃªn - genesis block.

![HÃ¬nh 3.2: Blockchain](./images/3.2-Blockchain.png)

HÃ¬nh 3.2 mÃ´ táº£ má»™t blockchain gá»“m 2 block, má»—i block cÃ³ má»™t sá»‘ thá»© tá»±, nonce, data, hash cá»§a block trÆ°á»›c vÃ  hash cá»§a block hiá»‡n táº¡i. VÃ¬ Block #1 lÃ  genesis block cá»§a blockchain nÃªn hash cá»§a block trÆ°á»›c nÃ³ lÃ  null interger (sá»‘ nguyÃªn rá»—ng) (000000000000000000000000000000000000). Block #2 lÃ  block thá»© 2 cá»§a blockchain vÃ  cÃ³ con trá» hash trá» tá»›i block 1 á»Ÿ trÆ°á»›c nÃ³.

### 3.1.4 Smart contracts

Smart contract (Há»£p Ä‘á»“ng thÃ´ng minh) lÃ  chÆ°Æ¡ng trÃ¬nh tá»± Ä‘Æ°á»£c thá»±c thi dá»±a trÃªn nhá»¯ng logic Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a trÆ°á»›c bá»Ÿi ngÆ°á»i táº¡o ra nÃ³. Smart contract vá» cÆ¡ báº£n lÃ  thoáº£ thuáº­n giá»¯a nhá»¯ng thÃ nh viÃªn trong máº¡ng lÆ°á»›i blockchain. KhÃ´ng nhÆ° cÃ¡c há»£p Ä‘á»“ng truyá»n thá»‘ng cáº§n cÃ³ má»™t bÃªn trung gian nhÆ° ngáº§n hÃ ng, cÃ´ng chá»©ng, smart contract cÃ³ kháº£ nÄƒng thá»±c hiá»‡n há»£p Ä‘á»“ng giá»¯a cÃ¡c bÃªn má»™t cÃ¡ch Ä‘á»™c láº­p, áº©n danh vá»›i chi phÃ­ ráº». VÃ­ dá»¥ nhÆ° má»™t ngÆ°á»i cÃ³ thá»ƒ thanh toÃ¡n tiá»n phÃ²ng tá»± Ä‘á»™ng vÃ o cuá»‘i má»—i thÃ¡ng mÃ  khÃ´ng cáº§n thÃ´ng qua ngÃ¢n hÃ ng, má»™t dá»± Ã¡n crowdfunding sá»­ dá»¥ng smart contract cho phÃ©p tiá»n cá»§a nhÃ  Ä‘áº§u tÆ° chá»‰ Ä‘Æ°á»£c rÃ³t vÃ o khi nhÃ  phÃ¡t triá»ƒn Ä‘áº¡t Ä‘Æ°á»£c má»™t milestone Ä‘Æ°á»£c Ä‘á»‹nh trÆ°á»›c hoáº·c Ä‘Æ°á»£c chuyá»ƒn ngÆ°á»£c vá» cÃ¡c nhÃ  Ä‘áº§u tÆ°, má»™t giao dá»‹ch mua bÃ¡n sá»­ dá»¥ng smart contract sáº½ chá»‰ cho phÃ©p ngÆ°á»i bÃ¡n rÃºt tiá»n khi ngÆ°á»i mua nháº­n Ä‘Æ°á»£c hÃ ng vÃ  xÃ¡c minh hÃ ng.

## 3.2 MÃ£ HÃ³a

Tiá»ƒu má»¥c nÃ y mÃ´ táº£ vá» cÃ¡c cÃ´ng nghá»‡ mÃ£ hÃ³a cÆ¡ báº£n Ä‘Æ°á»£c sá»­ dá»¥ng trong blockchain. Bao gá»“m: hash, hash pointer, digital signature (chá»¯ kÃ½ sá»‘) vÃ  Merkle tree.

### 3.2.1 Cryptographic hash function

Cryptographic hash function (HÃ m bÄƒm) lÃ  má»™t hÃ m toÃ¡n há»c nháº­n Ä‘áº§u vÃ o má»™t dá»¯ liá»‡u báº¥t ká»ƒ Ä‘á»™ dÃ i vÃ  tráº£ ra má»™t káº¿t quáº£ vá»›i Ä‘á»™ dÃ i cá»‘ Ä‘á»‹nh gá»“m cÃ¡c chá»¯ vÃ  sá»‘. GiÃ¡ trá»‹ tráº£ ra nÃ y Ä‘Æ°á»£c gá»i lÃ  hash hay digest, digital fingerprint, checksum. HÃ m lÃ  má»™t pure function (hÃ m thuáº§n), má»™t pure function luÃ´n luÃ´n táº¡o ra output giá»‘ng nhau vá»›i input giá»‘ng nhau. Hash khÃ´ng thá»ƒ bá»‹ dá»‹ch ngÆ°á»£c Ä‘á»ƒ láº¥y giÃ¡ trá»‹ Ä‘áº§u vÃ o vÃ  vÃ¬ tháº¿, nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ kiá»ƒm tra tÃ­nh toÃ n váº¹n cá»§a dá»¯ liá»‡u.

HÃ m bÄƒm cÃ³ ba thuá»™c tÃ­nh chÃ­nh: collision free, hiding vÃ  puzzle friendly.

- Collision free: cá»±c ká»³ khÃ³ Ä‘á»ƒ tÃ¬m hai tin nháº¯n cÃ³ cÅ©ng hash. VÃ­ dá»¥, má»™t chuá»—i x vÃ  y khÃ¡c nhau sáº½ cÃ³ hash luÃ´n luÃ´n khÃ¡c nhau.
- Hiding: khÃ´ng thá»ƒ tÃ¬m giÃ¡ trá»‹ cá»§a x tá»« hash cá»§a x
- Puzzle friendly: dá»… dÃ ng Ä‘á»ƒ tÃ­nh hash cá»§a dá»¯ liá»‡u cho trÆ°á»›c.

Blockchain sá»­ dá»¥ng Secure Hash Algorithm (SHA) lÃ  SHA-2/SHA-256, Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi cÆ¡ quan an ninh quá»‘c gia Má»¹ (NSA) trong nÄƒm 2001 nháº±m thay tháº¿ SHA-1 Ä‘á»ƒ ngÄƒn cháº·n táº¥n cÃ´ng collision free. Lá»— há»•ng cá»§a SHA-1 láº§n Ä‘áº§u tiÃªn Ä‘Æ°á»£c phÃ¡t hiá»ƒn bá»Ÿi Google, há» Ä‘Ã£ cung cáº¥p 2 tÃ i liá»‡u khÃ¡c nhau nhÆ°ng cÃ³ cÃ¹ng SHA-1 hash. SHA-2 Ä‘Æ°á»£c sá»­ dá»¥ng rá»™ng rÃ£i vÃ  cho Ä‘áº¿n nay chÆ°a cÃ³ lá»— há»•ng báº£o máº­t nÃ o Ä‘Æ°á»£c phÃ¡t hiá»‡n.

### 3.2.2 Hash pointer

Hash pointer lÃ  má»™t con trá» trá» tá»›i nÆ¡i dá»¯ liá»‡u Ä‘Æ°á»£c lÆ°u trá»¯ cÃ¹ng vá»›i hash cá»§a data Ä‘Ã³. NÃ³i cÃ¡ch khÃ¡c, nÃ³ chá»‰ lÃ  má»™t Ä‘oáº¡n hash Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tham kháº£o tá»›i má»™t pháº§n thÃ´ng tin Ä‘Æ°á»£c biáº¿t trÆ°á»›c Ä‘Ã³, cÃ¹ng lÃºc Ä‘Ã³ nÃ³ cÃ²n Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ dá»¯ liá»‡u bÃªn trong block cÃ³ thay Ä‘á»•i hay khÃ´ng. Con trá» hash cÃ³ thá»ƒ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ xÃ¢y dá»±ng nhá»¯ng cáº¥u trÃºc dá»¯ liá»‡u nhÆ° blockchain - má»™t danh sÃ¡ch liÃªn káº¿t cá»§a nhá»¯ng con trá» hash, hay cÃ¢y Merkle - má»™t cÃ¢y nhá»‹ phÃ¢n cá»§a con trá» hash.

### 3.2.3 Digital signature

Digital signature sá»­ dá»¥ng public-key cryptography (mÃ£ hoÃ¡ khoÃ¡ cÃ´ng khai) Ä‘á»ƒ cung cáº¥p integrity (tÃ­nh toÃ n váº¹n) vÃ  tÃ­nh xÃ¡c thá»±c vá» ná»™i dung cÅ©ng nhÆ° ngá»“n gá»‘c cá»§a tin nháº¯n. Digital signature cÅ©ng cÃ³ tÃ­nh cháº¥t tÆ°Æ¡ng tá»± nhÆ° chá»¯ kÃ½ tay truyá»n thá»‘ng, digital signature chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o bá»Ÿi chá»§ sá»Ÿ há»¯u vÃ  dá»… dÃ ng xÃ¡c thá»±c bá»i ngÆ°á»i khÃ¡c. Má»™t tin nháº¯n Ä‘Æ°á»£c kÃ½ bá»Ÿi digital signature cÃ³ thá»ƒ Ä‘Æ°á»£c xÃ¡c thá»±c bá»Ÿi ngÆ°á»i khÃ¡c, nhÆ°ng tin nháº¯n chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c kÃ½ bá»Ÿi chá»§ sá»Ÿ há»¯u. Digital signature sá»‘ cÃ³ thá»ƒ Ä‘Æ°á»£c táº¡o ra tá»« public-key cryptography. Public-key cryptography hay asymmetric cryptography (mÃ£ hÃ³a báº¥t Ä‘á»‘i xá»©ng) sá»­ dá»¥ng má»™t cáº·p khÃ³a lÃ  public key vÃ  private key, private key Ä‘Æ°á»£c lÆ°u trá»¯ duy nháº¥t bá»Ÿi chá»§ sá»¡ há»¯u trong khi public key cÃ³ thá»ƒ Ä‘Æ°á»£c phÃ¢n phá»‘i tá»›i báº¥t ká»³ ai. NgÆ°á»i dÃ¹ng khÃ¡c cÃ³ thá»ƒ mÃ£ hÃ³a tin nháº¯n cá»§a há» gá»­i cho chá»§ sá»Ÿ há»¯u cá»§a key báº±ng cÃ¡c sá»­ dá»¥ng public key cá»§a ngÆ°á»i Ä‘Ã³ vÃ  tin nháº¯n chá»‰ cÃ³ thá»ƒ Ä‘Æ°á»£c giáº£i mÃ£ báº±ng private key cá»§a public key Ä‘Ã³.
Blockchain sá»­ dá»¥ng thuáº­t toÃ¡n ECDSA Ä‘á»ƒ táº¡o ra digital signature. Thuáº­t toÃ¡n nÃ y cÃ³ 3 bÆ°á»›c Ä‘á»ƒ táº¡o, kÃ½ vÃ  xÃ¡c thá»±c digital signature. Secret key (SK) vÃ  public key (PK) Ä‘Æ°á»£c táº¡o bá»Ÿi phÆ°Æ¡ng thá»©c generateKeys. SK chá»‰ Ä‘Æ°á»£c giá»¯ bá»Ÿi chá»§ sá»Ÿ há»¯u vÃ  PK Ä‘Æ°á»£c phÃ¢n phÃ¡t tá»›i cÃ¡c node khÃ¡c trong blockchain. Tin nháº¯n Ä‘Æ°á»£c kÃ½ sá»­ dá»¥ng SK, quÃ¡ trÃ¬nh kÃ½ sá»­ dá»¥ng SK vÃ  tin nháº¯n Ä‘á»ƒ táº¡o ra chá»¯ kÃ½. Chá»¯ kÃ½ nÃ y Ä‘Æ°á»£c xÃ¡c thá»±c bá»Ÿi phÆ°Æ¡ng thá»©c xÃ¡c thá»±c sá»­ dá»¥ng PK, tin nháº¯n vÃ  chá»¯ kÃ½ trong tin nháº¯n. Do váº­y, PK Ä‘áº£m báº£o tin nháº¯n Ä‘Æ°á»£c táº¡o bá»Ÿi ngÆ°á»i kÃ½, vÃ  khÃ´ng bá»‹ sá»­a Ä‘á»•i trong quÃ¡ trÃ¬nh trao Ä‘á»•i.

Khi sá»­ dá»¥ng distributed blockchain, ngÆ°á»i dÃ¹ng khÃ´ng cáº§n cung cáº¥p mÃ£ an sinh xÃ£ há»™i, sá»‘ Ä‘iá»‡n thoáº¡i, email tá»›i báº¥t ká»³ mÃ¡y chá»§ táº­p trung hay cÆ¡ quan tháº©m quyá»n nÃ o. Há» cÃ³ thá»ƒ táº¡o digital identity cá»§a chÃ­nh há» vÃ  phÃ¡t tÃ¡n PK cá»§a há» tá»›i máº¡ng lÆ°á»›i Ä‘á»ƒ trao Ä‘á»•i vá»›i nhá»¯ng ngÆ°á»i khÃ¡c. Äáº·c Ä‘iá»ƒm nÃ y cho phÃ©p ngÆ°á»i dÃ¹ng bÃªn trong máº¡ng lÆ°á»›i cÃ³ thá»ƒ hoÃ n toÃ n áº©n danh. Tuy nhiÃªn, trong mÃ´i trÆ°á»ng distributed blockchain nÃ y táº¥t cáº£ cÃ¡c node cÃ³ báº£n sao cá»§a má»i giao dá»‹ch, Ä‘á»“ng nghÄ©a vá»›i viá»‡c má»™t node cÃ³ thá»ƒ tháº¥y háº¿t lá»‹ch sá»­ cá»§a má»i giao dá»‹ch. Do váº­y, má»™t node cÃ³ thá»ƒ quan sÃ¡t lá»‹ch sá»­ giao dá»‹ch ngÆ°á»i dÃ¹ng vÃ  cÃ³ thá»ƒ cÃ³ thá»ƒ truy ra hoáº·c Ä‘oÃ¡n Ä‘Æ°á»£c danh tÃ­nh thá»±c cá»§a há».

### 3.2.4 CÃ¢y Merkle

Blockchain dÃ¹ng máº¡ng P2P nÆ¡i mÃ  má»—i node cÃ³ cÃ¹ng báº£n sao cá»§a dá»¯ liá»‡u vÃ  dá»¯ liá»‡u má»›i pháº£i Ä‘Æ°á»£c lan truyá»n vÃ  xÃ¡c minh bá»Ÿi toÃ n máº¡ng lÆ°á»›i. Äáº·c Ä‘iá»ƒm nÃ y cÃ³ má»™t nhÆ°á»£c Ä‘iá»ƒm lá»›n lÃ  viá»‡c lan truyá»n vÃ  xÃ¡c thá»±c data qua máº¡ng P2P ráº¥t tá»‘n thá»i gian vÃ  chi phÃ­ tÃ­nh toÃ¡n. CÃ¢y Merkle Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ giáº£i quyáº¿t viá»‡c xÃ¡c thá»±c block má»›i trÃªn blockchain. Äá»ƒ 2 node xÃ¡c thá»±c má»™t chuá»—i dá»¯ liá»‡u, thay vÃ¬ gá»­i data thÃ¬ giá» Ä‘Ã¢y node chá»‰ cáº§n gá»­i Merkle root Ä‘Æ°á»£c táº¡o ra tá»« data Ä‘Ã³, bÃªn nháº­n sáº½ kiá»ƒm tra sá»± toÃ n váº¹n cÅ©ng nhÆ° tÃ­nh há»£p lá»‡ cá»§a dá»¯ liá»‡u báº±ng cÃ¡ch kiá»ƒm tra vá»›i Merkle root Ä‘Æ°á»£c táº¡o ra tá»« data cá»§a há», viá»‡c kiá»ƒm nÃ y cá»±c ká»³ an toÃ n vÃ  hiá»‡u quáº£ trÃªn má»™t lÆ°á»£ng dá»¯ liá»‡u lá»›n.

CÃ¢y Merkle lÃ  má»™t binary tree (cÃ¢y nhá»‹ phÃ¢n) cá»§a hash pointer, CÃ¢y Merkle Ä‘áº£m báº£o táº¥t cáº£ cÃ¡c node bÃªn trong blockchain Ä‘á»u chá»©a dá»¯ liá»‡u há»£p lá»‡. LÃ¡ cá»§a cÃ¢y Merkle lÃ  hash cá»§a cÃ¡c transaction chá»©a trong má»™t block. Nhá»¯ng hash nÃ y sau Ä‘Ã³ Ä‘Æ°á»£c nhÃ³m láº¡i theo cáº·p vÃ  hash má»™t láº§n ná»¯a Ä‘á»ƒ táº¡o nÃªn cáº¥p Ä‘á»™ tiáº¿p theo cá»§a cÃ¢y, quÃ¡ trÃ¬nh nÃ y Ä‘Æ°á»£c láº·p láº¡i cho Ä‘áº¿n khi tÃ¬m Ä‘Æ°á»£c Merkle root nhÆ° trong hÃ¬nh 3.3.

![HÃ¬nh 3.3: Merkle Tree](./images/3.3-MerkleTree.png)

HÃ¬nh trÃªn mÃ´ táº£ cÃ¢y Merkle bÃªn trong má»™t block vÃ  quÃ¡ trÃ¬nh hÃ¬nh thÃ nh Merkle root. Block nÃ y chá»©a 4 transaction: TX1, TX2, TX3 vÃ  TX4. Hash cá»§a nhá»¯ng transaction nÃ y lÃ  lÃ¡ cá»§a cÃ¢y Merkle bao gá»“m: H1, H2, H3, H4. Sau Ä‘Ã³, nhá»¯ng node lÃ¡ Ä‘Æ°á»£c nhÃ³m theo cáº·p vÃ  hash láº¡i Ä‘á»ƒ táº¡o ra level tiáº¿p theo cá»§a cÃ¢y bao gá»“m H12 vÃ  H34. Cuá»‘i cÃ¹ng H12 vÃ  H34 Ä‘Æ°á»£c gá»™p láº¡i Ä‘á»ƒ táº¡o ra 1 hash duy nháº¥t Ä‘Ã³ chÃ­nh lÃ  gá»‘c cá»§a Merkle root.

Sá»­ dá»¥ng cÃ¢y Merkle, ta cÃ³ kháº£ nÄƒng phÃ¡t hiá»‡n báº¥t ká»³ sá»± thay Ä‘á»•i cá»§a transaction bÃªn trong má»™t block báº±ng cÃ¡ch Ä‘Æ¡n giáº£n lÃ  cháº¡y láº¡i quÃ¡ trÃ¬nh táº¡o ra Merkle root vÃ  so sÃ¡nh vá»›i Merkle root ban Ä‘áº§u. Náº¿u má»™t ngÆ°á»i dÃ¹ng cá»‘ thay Ä‘á»•i hoáº·c Ä‘á»•i chá»— transaction trong má»™t block, Merkle root Ä‘Æ°á»£c táº¡o ra tá»« nhá»¯ng transaction trong block Ä‘Ã³ sáº½ khÃ¡c hoÃ n toÃ n vá»›i Merkle root ban Ä‘áº§u, giá» Ä‘Ã¢y block nÃ y sáº½ khÃ´ng Ä‘Æ°á»£c xÃ¡c thá»±c khi Ä‘Æ°á»£c lan truyá»n tá»›i cÃ¡c node khÃ¡c vÃ¬ Merkle root cá»§a nÃ³ hoÃ n khÃ¡c vá»›i Merkle root cá»§a chÃ­nh nÃ³ bÃªn trong nhá»¯ng node khÃ¡c.

## 3.3 Distributed Consensus

Distributed consensus (sá»± Ä‘á»“ng thuáº­n phÃ¢n tÃ¡n) trong blockchain lÃ  sá»± nháº¥t trÃ­ giá»¯a cÃ¡c node bÃªn trong blockchain vá» má»™t transaction. Vá» cÆ¡ báº£n, distributed consensus cÃ³ thá»ƒ Ä‘Æ°á»£c vÃ­ dá»¥ nhÆ° sau: TÆ°á»Ÿng tÆ°á»£ng báº¡n Ä‘ang thiáº¿t káº¿ backend cho má»™t cÃ´ng ty nhÆ° Google hoáº·c Facebook. Nhá»¯ng cÃ´ng ty nÃ y cÃ³ má»™t máº¡ng lÆ°á»›i server gá»“m hÃ ng ngÃ n hoáº·c tháº­m chÃ­ hÃ ng triá»‡u node, nhá»¯ng node nÃ y táº¡o thÃ nh má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u phÃ¢n tÃ¡n lá»›n ghi láº¡i táº¥t cáº£ cÃ¡c hÃ nh Ä‘á»™ng xáº£y ra trÃªn há»‡ thá»‘ng nhÆ° thÃªm má»™t comment, like má»™t post hay comment cá»§a ngÆ°á»i khÃ¡c. Khi má»™t comment má»›i Ä‘Æ°á»£c táº¡o ra, nhiá»u node khÃ¡c nhau trong há»‡ thá»‘ng sáº½ cÃ³ nhiá»‡m vá»¥ lÆ°u trá»¯ comment Ä‘Ã³, nhá»¯ng gÃ¬ backend cáº§n Ä‘áº£m báº£o lÃ  comment Ä‘Ã³ Ä‘Æ°á»£c ghi láº¡i bá»Ÿi táº¥t cáº£ cÃ¡c node hoáº·c khÃ´ng cÃ³ node nÃ o lÆ°u comment Ä‘Ã³. Giáº£ sá»­ náº¿u má»™t sá»‘ node bá»‹ lá»—i vÃ¬ má»™t lÃ½ do nÃ o Ä‘Ã³ dáº«n Ä‘áº¿n comment nÃ y sáº½ khÃ´ng Ä‘Æ°á»£c ghi láº¡i trong táº¥t cáº£ cÃ¡c node, ta cÃ³ thá»ƒ quay láº¡i vÃ  nÃ³i vá»›i ngÆ°á»i dÃ¹ng lá»—i Ä‘Ã£ xáº£y ra. NhÆ°ng náº¿u má»™t sá»‘ node Ä‘Ã£ lÆ°u comment Ä‘Ã³ nhÆ°ng má»™t sá»‘ khÃ¡c thÃ¬ khÃ´ng, cÆ¡ sá»Ÿ dá»¯ liá»‡u cá»§a toÃ n há»‡ thá»‘ng sáº½ á»Ÿ tráº¡ng thÃ¡i inconsistent (khÃ´ng nháº¥t quÃ¡n). Blockchain sá»­ dá»¥ng má»™t giao thá»©c distributed consensus Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» nÃ y. Ã tÆ°á»Ÿng cÆ¡ báº£n cá»§a giao thá»©c nÃ y Ä‘Æ°á»£c diá»…n táº£ nhÆ° sau: KhÃ´ng má»™t node hay má»™t bÃªn trung gian nÃ o cÃ³ toÃ n quyá»n quyáº¿t Ä‘á»‹nh transaction nÃ o nÃªn Ä‘Æ°á»£c thÃªm vÃ o blockchain. Thay vÃ o Ä‘Ã³, pháº§n lá»›n nhá»¯ng honest node (node Ä‘Ã¡ng tin cáº­y) sáº½ nháº¥t trÃ­ vá»›i nhau Ä‘á»ƒ ra quyáº¿t Ä‘á»‹nh. Giao thá»©c nÃ y cho phÃ©p nhiá»u node lÃ m viá»‡c vá»›i nhau táº¡o thÃ nh má»™t nhÃ³m vÃ  trong trÆ°á»ng há»£p náº¿u má»™t sá»‘ node bá»‹ lá»—i, há»‡ thá»‘ng váº«n cÃ³ thá»ƒ Ä‘áº£m báº£o tÃ­nh nháº¥t quÃ¡n.

### 3.3.1 Proof-of-work

Proof-of-work lÃ  má»™t giao thá»©c Ä‘á»“ng thuáº­n phÃ¢n tÃ¡n láº§n Ä‘áº§u tiÃªn Ä‘Æ°á»£c giá»›i thiá»‡u vÃ o nÄƒm 1999 bá»Ÿi Miguel Castro vÃ  Barbara Liskov Ä‘á»ƒ giáº£i quyáº¿t The Byzantine general problem (bÃ i toÃ¡n Byzantine). The Byzantine general problem cÃ³ thá»ƒ Ä‘Æ°á»£c mÃ´ táº£ nhÆ° sau: má»™t nhÃ³m cÃ¡c tÆ°á»›ng lÄ©nh cá»§a quÃ¢n Ä‘á»™i Byzantine bao vÃ¢y thÃ nh phá»‘ káº» thÃ¹ vÃ  Ä‘Æ°á»£c phÃ©p giao tiáº¿p vá»›i nhau chá»‰ qua ngÆ°á»i Ä‘Æ°a tin. Äá»ƒ chinh phá»¥c tráº­n chiáº¿n, há» pháº£i Ä‘áº¡t Ä‘Æ°á»£c sá»± thá»‘ng nháº¥t vá» káº¿ hoáº¡ch tÃ¡c chiáº¿n. Tuy nhiÃªn, váº¥n Ä‘á» lÃ  há» ráº¥t cÃ³ thá»ƒ sáº½ thua tráº­n náº¿u cÃ³ tÆ°á»›ng lÄ©nh pháº£n bá»™i. CÃ¢u há»i Ä‘Æ°á»£c Ä‘áº·t ra lÃ  cÃ³ tá»‘i Ä‘a bao nhiÃªu tÆ°á»›ng lÄ©nh pháº£n bá»™i mÃ  Ä‘á»™i quÃ¢n cÃ³ thá»ƒ cÃ³ mÃ  váº«n cÃ³ thá»ƒ váº­n hÃ nh nhÆ° má»™t thá»ƒ thá»‘ng nháº¥t. TÆ°Æ¡ng tá»±, trong má»™t há»‡ thá»‘ng phÃ¢n tÃ¡n, váº¥n Ä‘á» lÃ  cÃ³ tá»‘i Ä‘a cÃ³ bao nhiÃªu node bá»‹ lá»—i mÃ  há»‡ thá»‘ng váº«n giá»¯ Ä‘Æ°á»£c sá»± thá»‘ng nháº¥t.
Blockchain proof-of-work Ä‘Æ°á»£c Ä‘á» xuáº¥t láº§n Ä‘áº§u tiÃªn bá»Ÿi Satoshi Nakamoto vÃ o nÄƒm 2008 Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» double-spending [61]. Váº¥n Ä‘á» double-spending lÃ  trÆ°á»ng há»£p ngÆ°á»i dÃ¹ng cá»‘ gáº¯ng sá»­ dá»¥ng cryptocurrentcy mÃ  há» khÃ´ng sá»Ÿ há»¯u, nÃ³i cÃ¡ch khÃ¡c lÃ  cá»‘ tÃ¬nh táº¡o ra nhá»¯ng transaction khÃ´ng há»£p lá»‡. Proof of work yÃªu cáº§u pháº£i cÃ³ má»™t lÆ°á»£ng sá»©c máº¡nh tÃ­nh toÃ¡n Ä‘á»§ lá»›n Ä‘á»ƒ thÃªm má»™t block vÃ o blockchain, quÃ¡ trÃ¬nh thÃªm nÃ y Ä‘Æ°á»£c gá»i lÃ  mining.

QuÃ¡ trÃ¬nh nÃ y Ä‘Æ°á»£c táº¡o ra vá»›i 2 má»¥c Ä‘Ã­ch:

1.  XÃ¡c thá»±c tÃ­nh há»£p lá»‡ cá»§a nhá»¯ng transaction trong block Ä‘Æ°á»£c thÃªm vÃ o.
2.  Duy trÃ¬ máº¡ng lÆ°á»›i báº±ng cÃ¡ch thÆ°á»Ÿng cho miner Ä‘Ã£ thÃªm Ä‘Æ°á»£c block má»›i.

Khi nhá»¯ng miner cÃ³ Ä‘á»§ transaction Ä‘á»ƒ Ä‘Æ°a vÃ o má»™t block, há» sáº½ xÃ¡c thá»±c tÃ­nh há»£p lá»‡ cá»§a transaction trong block Ä‘Ã³ vÃ  cáº¡nh tranh vá»›i nhau Ä‘á»ƒ Ä‘Æ°a block Ä‘Ã³ vÃ o blockchain báº±ng cÃ¡ch giáº£i má»™t mathematical puzzle (cÃ¢u Ä‘á»‘ toÃ¡n há»c), miner nÃ o giáº£i thÃ nh cÃ´ng cÃ¢u Ä‘Ã³ trÆ°á»›c sáº½ truyá»n lá»i giáº£i cho táº¥t cáº£ nhá»¯ng miner khÃ¡c. Lá»i giáº£i cho cÃ¢u Ä‘Ã³ cÃ³ má»™t Ä‘áº·c Ä‘iá»ƒm quan trá»ng: tÆ°Æ¡ng Ä‘á»‘i khÃ³ Ä‘á»ƒ tÃ¬m ra, nhÆ°ng dá»… Ä‘á»ƒ kiá»ƒm chá»©ng, nhá»¯ng miner khÃ¡c trong máº¡ng lÆ°á»›i sáº½ kiá»ƒm tra lá»i giáº£i hay nÃ³i cÃ¡ch khÃ¡c 'proof-of-work' cá»§a miner nÃ y, vÃ  náº¿u pháº§n lá»›n miner chá»©ng thá»±c lá»i giáº£i cÃ¹ng vá»›i nhá»¯ng transaction chá»©a trong block lÃ  Ä‘Ãºng thÃ¬ block nÃ y sáº½ Ä‘Æ°á»£c thÃªm vÃ o blockchain vÃ  máº¡ng lÆ°á»›i chÃ­nh thá»©c Ä‘áº¡t Ä‘Æ°á»£c consensus (sá»± thá»‘ng nháº¥t) cho má»™t block.

Tuy nhiÃªn, proof of work cÃ³ má»™t sá»‘ váº¥n Ä‘á»: ráº¥t nhiá»u nÄƒng lÆ°á»£ng tÃ­nh toÃ¡n bá»‹ lÃ£ng phÃ­ Ä‘á»ƒ tÃ¬m ra lá»i giáº£i vÃ¬ ráº¥t nhiá»u ngÆ°á»i thá»­ giáº£i cÃ¢u Ä‘á»‘ khi cÃ³ Ä‘á»§ transaction, nhÆ°ng chá»‰ má»™t ngÆ°á»i Ä‘Æ°á»£c cháº¥p nháº­n. BÃªn cáº¡nh Ä‘Ã³, dáº§n dáº§n nhá»¯ng node nhá» sáº½ máº¥t kháº£ nÄƒng cáº¡nh tranh vÃ  chá»‰ cÃ¡c node cÃ³ cÃ´ng suáº¥t tÃ­nh toÃ¡n cao má»›i cÃ³ lá»£i tháº¿ cáº¡nh tranh trong viá»‡c mining. Viá»‡c nÃ y dáº«n Ä‘áº¿n káº¿t quáº£ lÃ  chá»‰ sá»‘ má»™t Ã­t miner má»›i cÃ³ kháº£ nÄƒng cáº¡nh tranh Ä‘á»ƒ tham gia vÃ o viá»‡c mining, Ä‘iá»u nÃ y lÃ m dáº§n máº¥t Ä‘i tÃ­nh cháº¥t phÃ¢n tÃ¡n cá»§a blockchain.

### 3.3.2 Proof-of-stake

Proof-of-stake (POS) lÃ  má»™t giáº£i thuáº­t Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c sá»± Ä‘á»“ng thuáº­n Ä‘Æ°á»£c Ä‘á» xuáº¥t nÄƒm 2012 nhÆ° má»™t á»©ng cá»­ viÃªn thay tháº¿ cho proof-of-work (POW). NÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c nháº­n má»™t khá»‘i giao dá»‹ch trong máº¡ng blockchain vÃ  trá»«ng pháº¡t cÃ¡c nÃºt vi pháº¡m giao thá»©c Ä‘á»“ng thuáº­n. Miner pháº£i Ä‘áº·t cÆ°á»£c cho káº¿t quáº£ Ä‘á»“ng thuáº­n hoáº·c giá»¯ stake (cá»• pháº§n) cá»§a khá»‘i tÃ i sáº£n ká»¹ thuáº­t sá»‘ Ä‘Æ°á»£c Ä‘á»‹nh trÆ°á»›c. KhÃ´ng nhÆ° proof-of-work, thuáº­t toÃ¡n nÃ y chá»n ngáº«u nhiÃªn má»™t miner tá»« danh sÃ¡ch miner, sau Ä‘Ã³ miner Ä‘Ã£ Ä‘Æ°á»£c chá»n Ä‘Æ°á»£c yÃªu cáº§u giáº£i quyáº¿t má»™t bÃ i toÃ¡n Ä‘Æ¡n giáº£n. Náº¿u miner giáº£i quyáº¿t thÃ nh cÃ´ng váº¥n Ä‘á» tiá»n tháº¯ng cÆ°á»£c hoáº·c tiá»n thÆ°á»Ÿng Ä‘Æ°á»£c trao dá»±a theo cá»• pháº§n Ä‘Ã£ Ä‘áº·t. Náº¿u thá»£ má» Ä‘áº§u tiá»n khÃ´ng giáº£i quyáº¿t Ä‘Æ°á»£c bÃ i toÃ¡n Ä‘Æ°á»£c giao, thá»£ má» tiáº¿p theo sáº½ Ä‘Æ°á»£c chá»n ngáº«u nhiÃªn. Do Ä‘Ã³ khÃ´ng cÃ³ sá»± phÃ¢n biá»‡t máº¡nh yáº¿u trong quÃ¡ trÃ¬nh tÃ¬m kiáº¿m lá»£i nhuáº­n.
Nhá»¯ng lá»£i tháº¿ chÃ­nh cá»§a POS Ä‘á»‘i vá»›i POW lÃ  giáº£m tiÃªu thá»¥ nÄƒng lÆ°á»£ng vÃ  giáº£m phÃ¢n cáº¥p dáº«n Ä‘áº¿n giáº£m cÆ¡ há»™i táº¥n cÃ´ng 51%. Bá»i vÃ¬ POS chá»‰ thá»±c hiá»‡n má»™t phÃ©p toÃ¡n Ä‘Æ¡n giáº£n, cÃ¡c miner khÃ´ng cáº§n má»™t mÃ¡y tÃ­nh máº¡nh Ä‘á»ƒ tham gia Ä‘Ã o mÃ  thay vÃ o Ä‘Ã³, má»™t mÃ¡y tÃ­nh vá»«a pháº£i lÃ  Ä‘á»§. VÃ¬ váº­y. Do Ä‘Ã³ Ã­t nÄƒng lÆ°á»£ng bá»‹ lÃ£ng phÃ­ hÆ¡n vÃ  khÃ´ng cÃ³ sá»± cáº¡nh tranh khá»‘c liá»‡t vá» viá»‡c xÃ¢y dá»±ng cÃ¡c node cÃ³ sá»©c máº¡nh tÃ­nh toÃ¡n lá»›n Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c hiá»‡u quáº£ kinh táº¿. HÆ¡n ná»¯a, háº§u nhÆ° báº¥t ká»³ nÃºt nÃ o cÅ©ng cÃ³ thá»ƒ tham gia khai thÃ¡c. Do Ä‘Ã³, POS tiÃªu thá»¥ Ã­t nÄƒng lÆ°á»£ng hÆ¡n vÃ  thÃºc Ä‘áº©y sá»± tham gia rá»™ng rÃ£i hÆ¡n vÃ o viá»‡c khai thÃ¡c má», lÃ m tÄƒng tÃ­nh phÃ¢n tÃ¡n cá»§a blockchain.

## 3.4 Kiáº¿n TrÃºc cá»§a Blockchain

Kiáº¿n trÃºc tá»•ng quÃ¡t cá»§a blockchain Ä‘Æ°á»£c mÃ´ táº£ trong hÃ¬nh bÃªn dÆ°á»›i. Kiáº¿n trÃºc Ä‘Æ°á»£c chia lÃ m 4 lá»›p: á»¨ng dá»¥ng, RPC, API, Peer Service vÃ  Consensus Layer.
Lá»›p á»©ng dá»¥ng lÃ  nÆ¡i nhÆ°ng á»©ng dá»¥ng blockchain hoáº¡t Ä‘á»™ng, chÃºng cung cáº¥p cho ngÆ°á»i dÃ¹ng kháº£ nÄƒng tÆ°Æ¡ng tÃ¡c vá»›i máº¡ng blockchain. Nhá»¯ng á»©ng dá»¥ng blockchain cÃ³ thá»ƒ lÃ  vÃ­ hoáº·c pháº§n má»m quáº£n lÃ½ key, nhÆ° lÃ  ledger wallet, chÃºng cung cáº¥p Ä‘á»‹nh danh blockchain cho user báº±ng cÃ¡ch táº¡o public/private key, public key Ä‘Æ°á»£c chia sáº» trong mang vÃ  private key giá»¯ bÃ­ máº­t. HÆ¡n ná»¯a, cÃ¡c giao dá»‹ch Ä‘Æ°á»£c cÅ©ng táº¡o ra trong lá»›p nÃ y. Má»™t transaction chá»©a chá»¯ kÃ½ ká»¹ thuáº­t sá»‘ cá»§a ngÆ°á»i gá»­i, giÃ¡ trá»‹ cá»§a transaction vÃ  public key cá»§a ngÆ°á»i nháº­n nhÆ° Ä‘Æ°á»£c mÃ´ táº£ trong hÃ¬nh bÃªn dÆ°á»›i. Transaction nÃ y Ä‘Æ°á»£c kÃ½ báº±ng private key cá»§a ngÆ°á»i gá»­i, viá»‡c nÃ y giÃºp táº¡o nÃªn Ä‘á»‹nh danh Ä‘á»™c nháº¥t cho hash cá»§a transaction. Dá»±a trÃªn má»©c Ä‘á»™ báº£o máº­t Ä‘Æ°á»£c thá»±c hiá»‡n bá»Ÿi ngÆ°á»i gá»­i private key cÃ³ thá»ƒ Ä‘Æ°á»£c báº£o vá»‡ báº±ng sinh tráº¯c há»c (vÃ¢n tay, mÃ³ng máº¯t) hoáº·c máº­t kháº©u. VÃ¬ váº­y, lá»›p nÃ y má»™t máº·t Ä‘áº£m báº£o tÃ­nh toÃ n váº¹n dá»¯ liá»‡u cá»§a giao dá»‹ch, máº·t khÃ¡c cung cáº¥p sá»± áº©n danh cho ngÆ°á»i dÃ¹ng vÃ¬ cÃ¡c private key cá»§a ngÆ°á»i dÃ¹ng khÃ´ng chá»©a dá»¯ liá»‡u cÃ¡ nhÃ¢n (tÃªn, há», email, sá»‘ Ä‘iá»‡n thoáº¡i) Ä‘Æ°á»£c chia sáº» trong máº¡ng.
CÃ¡c á»©ng dá»¥ng blockchain cÃ²n láº¡i lÃ  cÃ¡c á»©ng dá»¥ng web nhÆ° BitInfoCharts vÃ  Info Blockchain, chÃºng cung cáº¥p sá»‘ liá»‡u thá»‘ng kÃª tiá»n Ä‘iá»‡n tá»­ cÅ©ng nhÆ° giao diá»‡n, Ä‘á»ƒ báº¥t ká»³ ngÆ°á»i dÃ¹ng nÃ o cÅ©ng cÃ³ thá»ƒ truy váº¥n vÃ  xem giao dá»‹ch. BÃªn cáº¡nh Ä‘Ã³, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ phÃ¡t triá»ƒn cÃ¡c á»©ng dá»¥ng blockchain cá»§a riÃªng há» báº±ng cÃ¡ch sá»­ dá»¥ng Lá»›p RPC API.
Lá»›p API RPC lÃ  má»™t lá»›p lÃ m nhiá»‡m vá»¥ káº¿t ná»‘i lá»›p á»¨ng dá»¥ng vÃ  Lá»›p dá»‹ch vá»¥ ngang hÃ ng nhÆ° trong hÃ¬nh. NÃ³ quy Ä‘á»‹nh cÃ¡c nguyÃªn táº¯c Ä‘á»ƒ truyá»n thÃ´ng tin vÃ  truy cáº­p vÃ o blockchain, cÃ¡c quy táº¯c Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh tá»« trÆ°á»›c bá»Ÿi máº¡ng blockchain. CÃ¡c quy táº¯c nÃ y cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh Ä‘iá»ƒm truy cáº­p cÆ¡ sá»Ÿ dá»¯ liá»‡u, máº¡ng, quáº£n trá»‹ viÃªn, thá»‘ng kÃª vÃ  debug API interfaces (giao diá»‡n API gá»¡ lá»—i cá»§a blockchain). NÃ³ cÅ©ng quy Ä‘á»‹nh API cá»§a Lá»›p dá»‹ch vá»¥ ngang hÃ ng nÃ o Ä‘Æ°á»£c phÃ©p sá»­ dá»¥ng bá»Ÿi Lá»›p á»©ng dá»¥ng cÅ©ng nhÆ° ai cÃ³ thá»ƒ truy cáº­p vÃ o á»©ng dá»¥ng. Nhá»¯ng quy táº¯c nÃ y phá»¥ thuá»™c vÃ o mÃ´i trÆ°á»ng blockchain Ä‘ang hoáº¡t Ä‘á»™ng, lÃ  development (phÃ¡t triá»ƒn), test (thá»­ nghiá»‡m) hoáº·c production (sáº£n pháº©m), má»™t vÃ­ dá»¥ lÃ  JSON-RPC API. Trong máº¡ng blockchain cÃ³ nhá»¯ng nÃºt Ä‘áº·c biá»‡t Ä‘Æ°á»£c gá»i lÃ  miner, chÃºng káº¿t ná»‘i vá»›i nhau táº¡o thÃ nh Táº§ng dá»‹ch vá»¥ ngang hÃ ng nhÆ° trong hÃ¬nh.
Lá»›p dá»‹ch vá»¥ ngang hÃ ng lÃ  cá»‘t lÃµi cá»§a blockchain thá»±c hiá»‡n táº¥t cáº£ cÃ¡c tÃ­nh toÃ¡n cáº§n thiáº¿t Ä‘á»ƒ xÃ¡c nháº­n vÃ  xÃ¡c minh cÃ¡c giao dá»‹ch vÃ  khá»‘i. Má»—i nÃºt cÃ³ báº£n sao lá»‹ch sá»­ giao dá»‹ch cÃ³ thá»ƒ Ä‘Æ°á»£c xÃ¡c minh ngÆ°á»£c láº¡i cho Ä‘áº¿n giao dá»‹ch Ä‘áº§u tiÃªn. Äiá»u nÃ y lÃ m cho blockchain cÃ³ tÃ­nh phÃ¢n quyá»n, phÃ¢n tÃ¡n, cÃ³ kháº£ nÄƒng chá»‹u lá»—i vÃ  Ä‘Ã n há»“i vÃ¬ khÃ´ng cÃ³ SPOF vÃ  dá»¯ liá»‡u Ä‘Æ°á»£c phÃ¢n phá»‘i trÃªn nhiá»u nÃºt. Má»—i nÃºt trong lá»›p nÃ y Ä‘áº£m nháº­n viá»‡c

![HÃ¬nh 3.3: Kiáº¿n trÃºc cá»§a Blockchain](./images/3.4-BlockchainArchitecture.png)

xÃ¡c nháº­n cÃ¡c giao dá»‹ch nháº­n Ä‘Æ°á»£c tá»« táº§ng á»¨ng dá»¥ng lÃ  Ä‘Ãºng Ä‘á»‹nh dáº¡ng, Ä‘Æ°á»£c kÃ½ bá»Ÿi ngÆ°á»i gá»­i báº±ng chá»¯ kÃ½ ká»¹ thuáº­t sá»‘, kháº£ thi (cÃ³ Ä‘á»§ sá»‘ dÆ° Ä‘á»ƒ thá»±c hiá»‡n giao dá»‹ch). CÃ¡c nÃºt nÃ y cÅ©ng xÃ¡c thá»±c ngÆ°á»i gá»­i báº±ng cÃ¡ch kiá»ƒm tra chá»¯ kÃ½ sá»‘ cá»§a há». Cuá»‘i cÃ¹ng, nÃºt táº¡o ra má»™t khá»‘i má»›i dá»±a trÃªn cÃ¡c quy táº¯c xÃ¡c nháº­n vÃ  cáº¥u trÃºc Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÃªn Lá»›p Ä‘á»“ng thuáº­n.
Consensus Layer (lá»›p Ä‘á»“ng thuáº­n) lá»›p nÃ y Ä‘áº£m nháº­n vai trÃ² xÃ¡c nháº­n cáº¥u trÃºc cá»§a khá»‘i Ä‘Æ°á»£c táº¡o bá»Ÿi nÃºt. Má»™t khá»‘i há»£p lá»‡ pháº£i cÃ³ má»™t hash, hash cá»§a khá»‘i trÆ°á»›c Ä‘Ã³, nonce vÃ  gá»‘c merkle há»£p lá»‡. Block hash lÃ  sá»‘ nháº­n dáº¡ng Ä‘á»™c nháº¥t cá»§a má»™t khá»‘i, previous block hash lÃ  con trá» trá» Ä‘áº¿n block hash trÆ°á»›c Ä‘Ã³, nonce liÃªn quan Ä‘áº¿n POW (káº¿t quáº£ cá»§a viá»‡c giáº£i má»™t toÃ¡n Ä‘Æ°á»£c Ä‘áº·t ra theo yÃªu cáº§u cá»§a lá»›p Ä‘á»“ng thuáº­n). Cuá»‘i cÃ¹ng, gá»‘c Merkle cho phÃ©p xÃ¡c minh táº¥t cáº£ cÃ¡c giao dá»‹ch cho Ä‘áº¿n giao dá»‹ch Ä‘áº§u tiÃªn. NÃºt nháº­n Ä‘Æ°á»£c má»™t pháº§n thÆ°á»Ÿng tÃ i chÃ­nh cho pow, sau Ä‘Ã³ block má»›i ngay láº­p tá»©c Ä‘Æ°á»£c truyá»n tá»›i máº¡ng nÆ¡i táº¥t cáº£ node cáº­p nháº­t sá»• cÃ¡i cá»§a há» táº¡o nÃªn sá»± Ä‘á»“ng thuáº­n trÃªn máº¡ng. Náº¿u má»™t giao dá»‹ch thay Ä‘á»•i trÃªn má»™t node, táº¥t cáº£ mode pháº£i cáº­p nháº­t thay Ä‘á»•i nÃ y vÃ  Ä‘Ã o láº¡i block. Do Ä‘Ã³, sá»• cÃ¡i ká»¹ thuáº­t sá»‘ khÃ´ng thá»ƒ bá»‹ thao tÃºng vÃ  gian láº­n trong blockchain lÃ  ráº¥t khÃ³ xáº£y ra.

## 3.5 CÆ¡ cháº¿ lÃ m viá»‡c cá»§a Blockchain

CÆ¡ cháº¿ lÃ m viá»‡c cá»§a blockchain cÃ³ 5 bÆ°á»›c lÃ  Transaction Deï¬nition (Ä‘á»‹nh nghÄ©a giao dá»‹ch), Transaction Authentication (xÃ¡c thá»±c giao dá»‹ch), Block Creation (táº¡o block), Block Validation (xÃ¡c nháº­n block) vÃ  Block Chaining (ná»‘i block). Transaction Deï¬nition lÃ  quÃ¡ trÃ¬nh táº¡o ra má»™t transaction theo Ä‘á»‹nh dáº¡ng Ä‘Æ°á»£c xÃ¡c Ä‘á»‹nh trÆ°á»›c bá»Ÿi máº¡ng blockchain. Äá»ƒ táº¡o ra má»™t transaction cáº§n cÃ³ chá»¯ kÃ½ sá»‘ cá»§a ngÆ°á»i gá»­i, giÃ¡ trá»‹ giao dá»‹ch vÃ  public key cá»§a ngÆ°á»i nháº­n vÃ  Ä‘Æ°á»£c kÃ½ báº±ng khÃ³a ká»¹ thuáº­t sá»‘ Ä‘Æ°á»£c báº£o vá»‡ báº±ng pass-phrase (cá»¥m tá»« - má»™t hÃ¬nh thá»©c private key) cá»§a ngÆ°á»i gá»­i. Transaction Authentication lÃ  quÃ¡ trÃ¬nh cÃ¡c nÃºt xÃ¡c thá»±c cÃ¡c bÃªn liÃªn quan cÃ³ Ä‘á»§ sá»‘ dÆ° Ä‘á»ƒ gá»­i tÃ i sáº£n vÃ  cÃ³ quyá»n Ä‘á»ƒ chuyá»ƒn tÃ i sáº£n. Block Creation lÃ  quÃ¡ trÃ¬nh táº¡o khá»‘i báº±ng cÃ¡ch nhÃ³m giao dá»‹ch láº¡i vá»›i nhau dá»±a trÃªn thá»i gian táº¡o. Block Validation lÃ  quÃ¡ trÃ¬nh xÃ¡c nháº­n tÃ­nh há»£p lá»‡ khá»‘i báº±ng cÃ¡ch kiá»ƒm tra xem nÃ³ cÃ³ hash vÃ  nonce hay khÃ´ng. Block Chaining lÃ  quÃ¡ trÃ¬nh thÃªm khá»‘i vÃ o blockchain khi cÃ¡c nÃºt Ä‘áº¡t Ä‘Æ°á»£c sá»± Ä‘á»“ng thuáº­n. Má»™t vÃ­ dá»¥ vá» táº¡o blockchain, Ä‘Æ°á»£c mÃ´ táº£ trong hÃ¬nh bÃªn dÆ°á»›i, trong Ä‘Ã³ NgÆ°á»i dÃ¹ng A chuyá»ƒn tÃ i sáº£n ká»¹ thuáº­t sá»‘ cho NgÆ°á»i dÃ¹ng B. TÃ i sáº£n cÃ³ thá»ƒ lÃ  tiá»n hoáº·c há»£p Ä‘á»“ng thÃ´ng minh. Trong trÆ°á»ng há»£p nÃ y, Ä‘áº§u tiÃªn cáº£ hai ngÆ°á»i dÃ¹ng táº¡o Ä‘á»‹nh danh sá»‘ cá»§a há» vá»›i vÃ­ blockchain. A cáº§n cÃ³ khÃ³a riÃªng cá»§a mÃ¬nh vÃ  public key cá»§a B Ä‘á»ƒ táº¡o ra Transaction. A nháº­n public key cá»§a B báº±ng cÃ¡ch quÃ©t Ä‘á»‹a chá»‰ blockchain qua QR code hoáº·c B gá»­i public key cá»§a mÃ¬nh tá»›i A qua email. A táº¡o giao dá»‹ch Ä‘Æ°á»£c kÃ½ báº±ng khÃ³a riÃªng tÆ° cá»§a mÃ¬nh vÃ  thÃ´ng bÃ¡o tá»›i máº¡ng blockchain. Giao dá»‹ch nÃ y Ä‘Æ°á»£c nháº­n bá»Ÿi má»™t nÃºt, nÃ³ xÃ¡c thá»±c vÃ  xÃ¡c nháº­n tÃ­nh. Náº¿u xÃ¡c thá»±c tháº¥t báº¡i, giao dá»‹ch bá»‹ há»§y bá», náº¿u khÃ´ng nÃ³ Ä‘Æ°á»£c nhÃ³m láº¡i vá»›i cÃ¡c giao dá»‹ch chá» xá»¯ lÃ½ khÃ¡c táº¡o thÃ nh má»™t block, Block nÃ y Ä‘Æ°á»£c truyá»n tá»›i block khÃ¡c vÃ  khi máº¡ng Ä‘áº¡t Ä‘Æ°á»£c sá»± Ä‘á»“ng thuáº§n vá»›i block má»›i táº¡o, nÃ³ Ä‘Æ°á»£c thÃªm vÃ o blockchain vÃ  khá»‘i nÃ y trá»Ÿ thÃ nh vÄ©nh viá»…n sau khi cÃ¡c khá»‘i tiáº¿p theo Ä‘Æ°á»£c thÃªm vÃ o blockchain. Cuá»‘i cÃ¹ng, giao dá»‹ch Ä‘Æ°á»£c xÃ¡c nháº­n vÃ  tÃ i sáº£n chuyá»ƒn tá»« A qua B. TÃ¹y thuá»™c vÃ o máº¡ng blockchain nÃ³ cÃ³ thá»ƒ máº¥t 2 phÃºt Ä‘áº¿n 10 phÃºt dá»ƒ cÃ¡c giao dá»‹ch Ä‘Æ°á»£c xÃ¡c nháº­n. VÃ­ dá»¥: Bitcoin 4.1 máº¥t trung bÃ¬nh 10 phÃºt trong khi Ethereum 4.3 máº¥t 2 phÃºt Ä‘á»ƒ xÃ¡c Ä‘á»‹nh giao dá»‹ch.

![HÃ¬nh 3.5 CÆ¡ cháº¿ lÃ m viá»‡c cá»§a Blockchain](./images/3.5-HowBlockchainWorks.png)

## 3.6 CÃ¡c lá»— há»•ng tÃ¬m áº©n

Blockchain nhanh hÆ¡n vÃ  ráº» hÆ¡n so vá»›i há»‡ thá»‘ng táº­p trung vÃ¬ thiáº¿t káº¿ phÃ¢n tÃ¡n phÃ¢n cáº¥p cá»§a nÃ³. Tuy nhiÃªn, máº·c dÃ¹ nÃ³ Ä‘Ã¡ng tin cáº­y vÃ  an toÃ n vÃ¬ nÃ³ cÃ³ giao thá»©c Ä‘á»“ng thuáº­n, mÃ£ hÃ³a vÃ  áº©n danh, blockchain váº«n cÃ³ má»™t sá»‘ má»‘i nguy hiá»ƒm tÃ¬m tÃ n nhÆ° táº¥n cÃ´ng 51%, táº¥n cÃ´ng sybil, trá»™m danh tÃ­nh vÃ  táº¥n cÃ´ng dá»±a trÃªn mÃ£ nguá»“n.

### 3.6.1 The 51% attack (Táº¥n cÃ´ng 51%)

Má»™t cuá»™c táº¥n cÃ´ng 51% cÃ³ thá»ƒ xáº£y ra khi má»™t miner hoáº·c má»™t nhÃ³m miner kiá»ƒm soÃ¡t 51% nÄƒng lá»±c tÃ­nh toÃ¡n trÃªn máº¡ng blockchain. Khi Ä‘Ã³ há» cÃ³ thá»ƒ thá»‘ng trá»‹ viá»‡c xÃ¡c nháº­n vÃ  xÃ¡c minh cÃ¡c giao dá»‹ch cÅ©ng nhÆ° há» cÃ³ thá»ƒ thay Ä‘á»•i ná»™i dung cá»§a blockchain. HÆ¡n ná»¯a, há» cÃ³ thá»ƒ lÃ m máº¥t hiá»‡u lá»±c cÃ¡c khá»‘i há»£p lá»‡, táº¡o vÃ  hoÃ n thÃ nh cÃ¡c khá»‘i gian láº­n cá»§a chÃ­nh há» nhanh hÆ¡n so vá»›i cÃ¡c miner trung thá»±c. BÃªn cáº¡nh Ä‘Ã³, nhá»¯ng káº» táº¥n cÃ´ng cÃ³ thá»ƒ thay Ä‘á»•i quy táº¯c Ä‘á»“ng thuáº­n, Äƒn cáº¯p tÃ i sáº£n tá»« ngÆ°á»i khÃ¡c vÃ  tháº­m chÃ­ ngÄƒn cháº·n viá»‡c táº¡o tiá»n Ä‘iá»‡n tá»­. Cho Ä‘áº¿n nay khÃ´ng cÃ³ sá»± cá»‘ xáº¥u xáº£y ra do táº¥n cÃ´ng 51% máº·c dÃ¹ vÃ o thÃ¡ng 7 nÄƒm 2014, ghash.io Ä‘Ã£ khai thÃ¡c hÆ¡n 51% máº¡ng lÆ°á»›i Bitcoin. NhÆ°ng, ngay sau Ä‘Ã³ cÃ¡c thá»£ má» Ä‘Ã£ ra khá»i bá»ƒ khai thÃ¡c nÃ y, do Ä‘Ã³ bi ká»‹ch Ä‘Ã£ khÃ´ng xáº£y ra. Loáº¡i hÃ¬nh táº¥n cÃ´ng nÃ y cÃ³ thá»ƒ bá»‹ ngÄƒn cháº·n báº±ng viá»‡c sá»­ dá»¥ng thuáº­t toÃ¡n Ä‘á»“ng thuáº­n POS.

### 3.6.2 Sybil attack (Táº¥n cÃ´ng máº¡o nháº­n)

Blockchain khÃ´ng cÃ³ tháº©m quyá»n Ä‘á»ƒ táº­p trung hay quáº£n lÃ½ danh tÃ­nh cá»§a nhá»¯ng ngÆ°á»i tham gia. Káº¿t quáº£ lÃ  káº» táº¥n cÃ´ng cÃ³ thá»ƒ táº¡o nhiá»u báº£n sao cá»§a chÃ­nh mÃ¬nh, Ä‘á»ƒ giáº£ dáº¡ng lÃ m nhá»¯ng ngÆ°á»i tham gia riÃªng biá»‡t, sau Ä‘Ã³ káº» táº¥n cÃ´ng cá»‘ gáº¯ng káº¿t ná»‘i máº¡ng vá»›i náº¡n nhÃ¢n cá»§a nÃ³. VÃ¬ váº­y, node náº¡n nhÃ¢n cÃ³ kháº£ nÄƒng chá»‰ káº¿t ná»‘i vá»›i node táº¥n cÃ´ng. Káº» táº¥n cÃ´ng sau Ä‘Ã³ cÃ³ thá»ƒ tá»« chá»‘i chuyá»ƒn tiáº¿p cÃ¡c block vÃ  giao dá»‹ch tá»« náº¡n nhÃ¢n, ngáº¯t káº¿t ná»‘i náº¡n nhÃ¢n khá»i máº¡ng hoáº·c chá»‰ chuyá»ƒn tiáº¿p cÃ¡c block Ä‘Æ°á»£c táº¡o bá»Ÿi chÃ­nh nÃ³. CÃ¡ch táº¥n cÃ´ng nÃ y cÃ³ thá»ƒ trÃ¡nh Ä‘Æ°á»£c báº±ng cÃ¡ch chá»‰ tin tÆ°á»Ÿng vÃ o blockchain vá»›i POW lá»›n nháº¥t vÃ¬ nÃ³ khÃ´ng thá»ƒ dá»… dÃ ng giáº£ máº¡o vÃ¬ yÃªu cáº§u nÄƒng lÆ°á»£ng khai thÃ¡c Ä‘Ã¡ng ká»ƒ.

### 3.6.3 Identity theft (ÄÃ¡nh cáº¯p dá»¯ liá»‡u cÃ¡ nhÃ¢n)

Blockchain cung cáº¥p kháº£ nÄƒng Ä‘á»‹nh danh vÃ  danh tÃ­nh ká»¹ thuáº­t sá»‘ Ä‘Æ°á»£c sao lÆ°u báº±ng private key, private key pháº£i Ä‘Æ°á»£c giá»¯ an toÃ n, náº¿u nÃ³ bá»‹ Ä‘Ã¡nh cáº¯p hoáº·c thiáº¿t bá»‹ lÆ°u trá»¯ private key bá»‹ táº¥n cÃ´ng, náº¡n nhÃ¢n sáº½ máº¥t táº¥t cáº£ tÃ i sáº£n ká»¹ thuáº­t sá»‘ cÅ©ng nhÆ° nháº­n dáº¡ng ká»¹ thuáº­t sá»‘ Ä‘i kÃ¨m vá»›i private key Ä‘Ã³. HÆ¡n ná»¯a, danh tÃ­nh ká»¹ thuáº­t sá»‘ nÃ y khÃ´ng thá»ƒ Ä‘Æ°á»£c phá»¥c há»“i vÃ  nÃ³ sáº½ gáº§n nhÆ° khÃ´ng thá»ƒ tÃ¬m ra thá»§ pháº¡m. CÃ³ nhiá»u á»©ng dá»¥ng khÃ¡c nhau giÃºp mÃ£ hÃ³a vÃ  Ä‘á»“ng bá»™ hÃ³a cÃ¡c khÃ³a nÃ y lÃªn cÃ¡c thiáº¿t bá»‹ khÃ¡c nhau Ä‘á»ƒ khÃ´i phá»¥c trong trÆ°á»ng há»£p tháº¥t láº¡c. NhÆ°ng náº¿u cÃ¡c á»©ng dá»¥ng nÃ y cÃ³ má»™t sá»‘ mÃ£ Ä‘á»™c háº¡i hoáº·c náº¿u chÃºng bá»‹ táº¥n cÃ´ng thÃ¬ ngÆ°á»i dÃ¹ng sáº½ bá»‹ Ä‘Ã¡nh cáº¯p toÃ n bá»™ khÃ³a cá»§a mÃ¬nh. NgoÃ i ra, viá»‡c Ä‘á»“ng bá»™ hÃ³a cÃ¡c máº­t kháº©u trÃªn nhiá»u thiáº¿t bá»‹ sáº½ lÃ m tÄƒng kháº£ nÄƒng bá»‹ táº¥n cÃ´ng.
BÃªn cáº¡nh Ä‘Ã³, vá»›i sá»± phÃ¡t triá»ƒn cÃ´ng nghá»‡, kháº£ náº·ng táº¡o ra mÃ¡y tÃ­nh lÆ°á»£ng tá»­ ngÃ y má»™t cao, thá»© cÃ³ thá»ƒ dÃ¹ng Ä‘á»ƒ crack cÃ¡c loáº¡i mÃ£ hÃ³a Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi cÃ´ng nghá»‡ blockchain.

### 3.6.4 System hacking (Hack há»‡ thá»‘ng)

Báº£n ghi cá»§a blockchain hay dá»¯ liá»‡u cá»§a nÃ³ khÃ´ng thá»ƒ dá»… dÃ ng bá»‹ sá»­ Ä‘á»•i hay thay tháº¿. Tuy nhiÃªn, mÃ£ nguá»“n vÃ  há»‡ thá»‘ng cháº¡y blockchain cÃ³ thá»ƒ dá»… dÃ ng sá»­a Ä‘á»•i vÃ  cÃ¡c cÃ´ng ty vÃ  tá»• chá»©c cÃ³ thá»ƒ phÃ¡t triá»ƒn blockchain cá»§a riÃªng mÃ¬nh dá»±a trÃªn cÃ¡c blockchain mÃ£ nguá»“n má»Ÿ. VÃ­ dá»¥, cÃ¡c á»©ng dá»¥ng blockchain phá»• biáº¿n nháº¥t Bitcoin vÃ  Ethereum lÃ  mÃ£ nguá»“n má»Ÿ. Do váº­y, báº¥t ká»³ ngÆ°á»i dÃ¹ng nÃ o cÃ³ thá»ƒ Ä‘Ã³ng gÃ³p vÃ  quÃ¡ trÃ¬nh phÃ¡t triá»ƒn blockchain vÃ  náº¿u ngÆ°á»i Ä‘Ã³ng gÃ³p mÃ£ nguá»“n khÃ´ng Ä‘á»§ tá»‘t (vÃ­ dá»¥ dá»… bá»‹ táº¥n cÃ´ng hoáº·c trong mÃ£ nguá»“n), náº¿u khÃ´ng kiá»ƒm thá»­ kÄ© nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c táº£i lÃªn há»‡ thá»‘ng tháº­t. TrÆ°á»ng há»£p cÃ¡c cÃ´ng ty má»Ÿ rá»™ng mÃ£ nguá»“n blockchain Ä‘á»ƒ sá»­ dá»¥ng riÃªng, náº¿u mÃ£ nguá»“n Ä‘Æ°á»£c báº£o trÃ¬ yáº¿u kÃ©m hoáº·c lá»—i thá»i nÃ³ cÃ³ thá»ƒ dáº«n tá»›i viá»‡c bá»‹ hack. VÃ o thÃ¡ng 3 náº±m 2014, sÃ n giao dá»‹ch bitcoin MtGox Tokyo Ä‘Ã£ bá»‹ hack vÃ  700 triá»‡u USD tiá»n bit bitcoin Ä‘Ã£ bá»‹ Ä‘Ã¡nh cáº¯p. TÆ°Æ¡ng tá»± 2016, hacker Ä‘Ã£ khai thÃ¡c lá»— há»•ng trÃªn Decentralized Autonomous Organization (DAO) vÃ  Ä‘Ã¡nh cáº¯p 50 triá»‡u USD tiá»n Ethereum.

### 3.6.5 HÃ nh Ä‘á»™ng báº¥t há»£p phÃ¡p

CÃ¡c tÃ­nh cháº¥t áº©n danh, báº¥t biáº¿n vÃ  phi táº­p trung cá»§a blockchain lÃ m cho nÃ³ gáº§n nhÆ° khÃ´ng thá»ƒ Ä‘iá»u hÃ nh vÃ  viá»‡c láº§n theo cÃ¡c giao dá»‹ch cÅ©ng lÃ  ráº¥t khÃ³ Ä‘á»ƒ thá»±c hiá»‡n. HÆ¡n ná»¯a, báº£n thÃ¢n cÃ´ng nghá»‡ nÃ y Ä‘ang á»Ÿ giai Ä‘oáº¡n Ä‘áº§u cá»§a quÃ¡ trÃ¬nh hoÃ n thiá»‡n vÃ  cÃ¡c quy Ä‘á»‹nh vÃ  cÃ¡c Ä‘iá»u luáº­t thiáº¿t yáº¿u Ä‘á»ƒ sá»­ dá»¥ng á»©ng dá»¥ng blockchain Ä‘ang cÅ©ng má»›i báº¯t Ä‘áº§u hÃ¬nh thÃ nh. Do Ä‘Ã³, blockchain cÃ³ thá»ƒ bá»‹ láº¡m dá»¥ng Ä‘á»ƒ rá»­a tiá»n, chuyá»ƒn quá»¹ báº¥t há»£p phÃ¡p. VÃ­ dá»¥, Silk Road, má»™t trang web Ä‘á»ƒ mua vÃ  bÃ¡n cÃ¡c loáº¡i thuá»‘c báº¥t há»£p phÃ¡p sá»­ dá»¥ng bitcoin cho cÃ¡c khoáº£n thanh toÃ¡n cá»§a nÃ³.

# 4. á»¨ng dá»¥ng cá»§a Blockchain

Blockchain cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng trong cÃ¡c lÄ©nh vá»±c á»©ng dá»¥ng khÃ¡c nhau nhÆ° tÃ i chÃ­nh, phi tÃ i chÃ­nh, báº£o hiá»ƒm, Internet of Things (IOT), chÄƒm sÃ³c sá»©c khá»e, Internet, tiá»n Ä‘iá»‡n tá»­. Má»™t sá»‘ á»©ng dá»¥ng tÃ i chÃ­nh nhÆ° Medici, Blockstream, Bitshares vÃ  cÃ¡c á»©ng dá»¥ng phi tÃ i chÃ­nh nhÆ° Stampery, Ascribe, BlockNotary. Everledger lÃ  á»©ng dá»¥ng báº£o hiá»ƒm vÃ  IOT Filament, ADEPT platform lÃ  á»©ng dá»¥ng IOT. VÃ­ dá»¥ vá» cÃ¡c á»©ng dá»¥ng Internet lÃ  Namecoin, Ethereum. VÃ­ dá»¥ vá» cÃ¡c á»©ng dá»¥ng tiá»n Ä‘iá»‡n tá»­ lÃ  Namecoin, Bitcoin. Má»™t sá»‘ á»©ng dá»¥ng phá»• biáº¿n nháº¥t nhÆ° Bitcoin, Namecoin vÃ  Ethereum Ä‘Æ°á»£c mÃ´ táº£ dÆ°á»›i Ä‘Ã¢y.

## 4.1 Bitcoin

Bitcoin lÃ  á»©ng dá»¥ng phá»• biáº¿n nháº¥t Ä‘Æ°á»£c phÃ¡t triá»ƒn trÃªn blockchain. NÃ³ Ä‘Æ°á»£c Ä‘á» cáº­p láº§n Ä‘áº§u tiÃªn bá»Ÿi Satoshi Nakamoto vÃ o nÄƒm 2008 trong white paper: 'Bitcoin: Há»‡ thá»‘ng tiá»n Ä‘iá»‡n tá»­ Peer-to-Peer' mÃ´ táº£ má»™t phÆ°Æ¡ng thá»©c P2P Ä‘á»ƒ gá»­i tiá»n Ä‘iá»‡n tá»­ tá»« ngÆ°á»i nÃ y sang ngÆ°á»i khÃ¡c mÃ  khÃ´ng cáº§n liÃªn quan Ä‘áº¿n bÃªn thá»© ba.

Bitcoin Ä‘Æ°á»£c phÃ¡t triá»ƒn nháº±m má»¥c Ä‘Ã­ch Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c thÃ¡ch thá»©c tÃ i chÃ­nh hiá»‡n táº¡i, há»‡ thá»‘ng tÃ i chÃ­nh hiá»‡n táº¡i Ä‘Æ°á»£c gáº¯n cháº·t vá»›i cÃ¡c bÃªn thá»© ba nhÆ° ngÃ¢n hÃ ng, cÃ´ng ty tháº» tÃ­n dá»¥ng Ä‘á»ƒ chuyá»ƒn tiáº¿p vÃ  xá»­ lÃ½ cÃ¡c giao dá»‹ch tÃ i chÃ­nh. CÃ¡c bÃªn thá»© ba xÃ¡c nháº­n, báº£o vá»‡ cÃ¡c giao dá»‹ch vÃ  duy trÃ¬ lá»‹ch sá»­ giao dá»‹ch mÃ  sau nÃ y lá»‹ch sá»­ Ä‘Ã³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng lÃ m báº±ng chá»©ng vá» cÃ¡c giao dá»‹ch tÃ i chÃ­nh Ä‘á»ƒ trÃ¡nh gian láº­n. Tuy nhiÃªn, suy thoÃ¡i kinh táº¿ trong nÄƒm 2008 Ä‘Ã£ chá»‰ ra ráº±ng nhá»¯ng bÃªn Ä‘Ã¡ng tin cáº­y nÃ y cÃ³ thá»ƒ táº¡o ra bong bÃ³ng kinh táº¿ dáº«n Ä‘áº¿n háº­u quáº£ kinh táº¿ tháº£m khá»‘c.
HÆ¡n ná»¯a, bÃªn thá»© ba thÆ°á»ng cáº§n tiá»n tá»« ngÆ°á»i dÃ¹ng Ä‘á»ƒ duy trÃ¬ hoáº¡t Ä‘á»™ng giao dá»‹ch, náº¿u bÃªn thá»© ba bá»‹ phÃ¡ sáº£n hoáº·c bá»‹ táº¥n cÃ´ng, ngÆ°á»i dÃ¹ng sáº½ máº¥t tÃ i sáº£n cá»§a há». NgoÃ i nhá»¯ng váº¥n Ä‘á» nÃªu trÃªn, cÃ¡c bÃªn thá»© ba cÃ²n sá»Ÿ há»¯u dá»¯ liá»‡u ngÆ°á»i dÃ¹ng, há» cÃ³ thá»ƒ láº¡m dá»¥ng vÃ  chia sáº» nÃ³ vá»›i cÃ¡c tá»• chá»©c nhÆ° CÆ¡ quan An ninh Quá»‘c gia Má»¹ (NSA) hoáº·c cÃ¡c tá»• chá»©c khá»§ng bá»‘.
Bitcoin lÃ  tiá»n Ä‘iá»‡n tá»­ thÃ nh cÃ´ng nháº¥t trong lá»‹ch sá»­. Äá»“ng Bitcoin Ä‘áº§u tiá»n Ä‘Æ°á»£c Ä‘Ã o vÃ o ngÃ y 3 thÃ¡ng Má»™t 2009 vÃ  vÃ o ngÃ y 9 thÃ¡ng Má»™t 2009 bitcoin v0.1 Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t hÃ nh. Giao dá»‹ch Ä‘áº§u tiÃªn Ä‘Æ°á»£c hoÃ n thÃ nh vÃ o thÃ¡ng NÄƒm 2010 nÆ¡i má»™t ngÆ°á»i dÃ¹ng mua má»™t cÃ¡i pizza vá»›i giÃ¡ 10000 bitcoin. Ká»ƒ tá»© Ä‘Ã³, giÃ¡ trá»‹ cá»§a bitcoin Ä‘Ã£ tÄƒng vá»t so vá»›i tiá»n giáº¥y.
Bitcoin sá»­ dá»¥ng máº¡ng P2P thay vÃ¬ bÃªn thá»© ba Ä‘á»ƒ thá»±c thi giao dá»‹ch giá»¯a hai ngÆ°á»i dÃ¹ng qua Internet. NÃ³ dá»±a trÃªn chá»¯ kÃ½ ká»¹ thuáº­t sá»‘ mÃ  ná»n táº£ng lÃ  mÃ£ hÃ³a public key Ä‘á»ƒ táº¡o niá»m tin thay vÃ¬ pháº£i nhá» Ä‘áº¿n bÃªn thá»© ba Ä‘Ã¡ng tin cáº­y. Má»—i ngÆ°á»i dÃ¹ng táº¡o má»™t cáº·p private key vÃ  public key, public key Ä‘Æ°á»£c thÃ´ng bÃ¡o cho táº¥t cáº£ ngÆ°á»i dÃ¹ng trong máº¡ng, trong khi private key Ä‘Æ°á»£c ngÆ°á»i dÃ¹ng lÆ°u giá»¯ an toÃ n. VÃ¬ váº­y, danh tÃ­nh ngÆ°á»i dÃ¹ng váº«n Ä‘Æ°á»£c giá»¯ bÃ­ máº­t. Tuy nhiÃªn, táº¥t cáº£ má»i ngÆ°á»i trong máº¡ng cÃ³ thá»ƒ tháº¥y giao dá»‹ch Bitcoin Ä‘Æ°á»£c chuyá»ƒn tá»« ngÆ°á»i dÃ¹ng A sang ngÆ°á»i dÃ¹ng B.
Khi má»™t bitcoin Ä‘Æ°á»£c gá»­i Ä‘áº¿n public key cá»§a ngÆ°á»i nháº­n, má»™t giao dá»‹ch Ä‘Æ°á»£c táº¡o ra, nÃ³ Ä‘Æ°á»£c báº£o vá»‡ báº£o vá»‡ báº±ng private key cá»§a ngÆ°á»i gá»­i. Trong quÃ¡ trÃ¬nh nÃ y ngÆ°á»i gá»­i pháº£i chá»©ng minh quyá»n sá»Ÿ há»¯u Ä‘á»‘i vá»›i tÃ i sáº£n báº±ng private key cá»§a mÃ¬nh vÃ  giao dá»‹ch nÃ y Ä‘Æ°á»£c xÃ¡c minh bá»Ÿi miner báº±ng public key cá»§a ngÆ°á»i gá»­i. Thá»£ má» Ä‘áº£m báº£o ngÆ°á»i gá»­i cÃ³ Ä‘á»§ sá»‘ dÆ° bitcoin Ä‘á»ƒ chi tiÃªu vÃ  lÆ°á»£ng bitcoin Ä‘Ã³ Ä‘Æ°á»£c sá»Ÿ há»¯u bá»Ÿi há», má»—i giao dá»‹ch Ä‘á»u Ä‘Æ°á»£c thÃ´ng bÃ¡o Ä‘áº¿n táº¥t cáº£ cÃ¡c node trong máº¡ng. Sau khi xÃ¡c minh vÃ  xÃ¡c nháº­n, khá»‘i Ä‘Æ°á»£c ná»‘i vÃ o blockchain.
Má»™t ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ báº¯t Ä‘áº§u sá»­ dá»¥ng Bitcoin báº±ng cÃ¡ch táº¡o ra tÃ i khoáº£n bitcoin, Ä‘iá»u nÃ y Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng cÃ¡ch táº£i vÃ­ Bitcoin vÃ  táº¡o tÃ i khoáº£n. Bitcoin cÃ³ thá»ƒ Ä‘Æ°á»£c Ä‘á»•i tá»« tiá»n máº·t báº±ng cÃ¡ch sá»­ dá»¥ng cÃ¡c sÃ n giao dá»‹ch bitcoin nhÆ° Bistamp, Bitsquare, Kraken.
NgoÃ i ra, ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng Bitcoin nhÆ° Namecoin báº±ng cÃ¡ch fork (táº¡o nhÃ¡nh) mÃ£ nguá»“n cá»§a bitcoin vÃ  sá»­a Ä‘á»•i nÃ³ Ä‘á»ƒ há»— trá»£ má»¥c Ä‘Ã­ch sá»­ dá»¥ng cá»§a riÃªng.

### 4.1.1 Transactions (Giao dá»‹ch)

Trong máº¡ng blockchain, nhiá»u giao dá»‹ch cÃ³ thá»ƒ diá»…n ra táº¡i má»™t thá»i Ä‘iá»ƒm nháº¥t Ä‘á»‹nh vÃ  báº¥t ká»³ node nÃ o cÅ©ng cÃ³ thá»ƒ thu tháº­p cÃ¡c giao dá»‹ch chÆ°a Ä‘Æ°á»£c mÃ£ hÃ³a Ä‘á»ƒ táº¡o thÃ nh khá»‘i vÃ  lan truyá»n cÃ¡c khá»‘i nÃ y vÃ o máº¡ng. CÃ¡c giao dá»‹ch Ä‘Æ°á»£c nhÃ³m láº¡i vá»›i nhau lÃ  vÃ¬ cÃ¡c giao dá»‹ch khÃ´ng cÃ³ giÃ¡ trá»‹ Ä‘Æ°á»£c táº¡o trÃªn máº¡ng gÃ¢y ra sá»± cháº­m trá»…, sau khi Ä‘Æ°á»£c nhÃ³m thÃ nh block, block nÃ y ná»‘i vá»›i block trÆ°á»›c Ä‘Ã³ nhá» sá»­ dá»¥ng hash cá»§a block trÆ°á»›c Ä‘Ã³, sau Ä‘Ã³ block Ä‘Æ°á»£c thÃªm vÃ o blockchain sau khi miner Ä‘Ã£ giáº£i xong má»™t bÃ i toÃ n phá»©c táº¡p. Miner Ä‘áº§u tiÃªn giáº£i Ä‘Æ°á»£c bÃ i toÃ¡n, nÃ³i cÃ¡ch khÃ¡c lÃ  miner táº¡o POW Ä‘áº§u tiÃªn, lang truyá»n káº¿t quáº£ tá»›i máº¡ng sáº½ nháº­n Ä‘Æ°á»£c má»™t pháº§n thÆ°á»Ÿng tÃ i chÃ­nh. ThÆ°á»ng thÃ¬ cáº§n ráº¥t nhiá»u nÄƒng lá»±c tÃ­nh toÃ¡n Ä‘á»ƒ táº¡o ra POW, tuy nhiÃªn viá»‡c xÃ¡c minh láº¡i ráº¥t Ä‘Æ¡n giáº£n, chá»‰ cáº§n cháº¡y má»™t hÃ m hash. Äá»™ khÃ³ cá»§a bÃ i toÃ¡n Ä‘Æ°á»£c Ä‘iá»u chá»‰nh sao cho bÃ i toÃ¡n Ä‘Æ°á»£c giáº£i quyáº¿t trung bÃ¬nh cá»© 10 phÃºt má»™t láº§n. Pháº§n thÆ°á»Ÿng nÃ y lÃ  50 bitcoin trong láº§n Ä‘áº§u vÃ  nÃ³ Ä‘Æ°á»£c giáº£m Ä‘i má»™t ná»­a má»—i bá»‘n nÄƒm Ä‘á»ƒ Ä‘áº£m báº£o cung cáº¥p bitcoin vá»«a pháº£i vÃ  trÃ¡nh láº¡m phÃ¡p. Káº¿t quáº£ lÃ , sá»‘ lÆ°á»£ng Bitcoin tá»‘i Ä‘a sáº½ Ä‘Æ°á»£c táº¡o ra vÃ o nÄƒm 2140. Thá»‰nh thoáº£ng cÃ³ nhiá»u hÆ¡n má»™t khá»‘i sáº½ Ä‘Æ°á»£c giáº£i quyáº¿t Ä‘á»“ng thá»i dáº«n Ä‘áº¿n má»™t sá»‘ nhÃ¡nh Ä‘Æ°á»£c táº¡o ra trÃªn blockchain, khi Ä‘Ã³ chá»‰ cÃ³ nhÃ¡nh dÃ i nháº¥t Ä‘Æ°á»£c coi lÃ  há»£p lá»‡.
Má»—i giao dá»‹ch Bitcoin cÃ³ ba pháº§n: metadata, input vÃ  output. Metadata chá»©a timestamp (thá»i gian transaction Ä‘Æ°á»£c thÃªm vÃ o blockchain), kÃ­ch thÆ°á»›c transaction vÃ  hash SHA-256 cá»§a toÃ n bá»™ giao dá»‹ch. Hash Ä‘Æ°á»£c xem nhÆ° ID Ä‘á»™c nháº¥t cá»§a giao dá»‹ch. Pháº§n thá»© hai lÃ  input, input lÃ  má»™t máº£ng mÃ  trong Ä‘Ã³ má»—i pháº§n tá»­ tham chiáº¿u tá»›i giao dá»‹ch trÆ°á»›c. Cuá»‘i cÃ¹ng, pháº§n thá»© ba lÃ  output, nÃ³ cÅ©ng lÃ  má»™t máº£ng, thá»© chá»©a chá»‰ dáº«n Ä‘á»ƒ gá»­i bitcoin tá»›i public key cá»§a ngÆ°á»i nháº­n. Nhá»¯ng pháº§n tá»­ trong output ra cÃ³ má»™t giÃ¡ trá»‹ sá»‘ nguyÃªn, nÃ³ cho biáº¿t sá»‘ tiá»n sáº½ Ä‘Æ°á»£c gá»­i Ä‘i vÃ  scriptPubKey lÃ  ECDSA hash cá»§a public key. Sá»‘ tiá»n nÃ³i trÃªn Ä‘Æ°á»£c tÃ­nh báº±ng Ä‘Æ¡n vá»‹ bitcoin vÃ  Ä‘Æ¡n vá»‹ bitcoin nhá» nháº¥t Ä‘Æ°á»£c gá»i lÃ  satoshi, nÆ¡i 10^8 satoshi báº±ng má»™t bitcoin. Äáº§u ra cÅ©ng cÃ³ má»™t Ä‘oáº¡n mÃ£ ngáº¯n: scriptPubKey nhÆ° trong hÃ¬nh cho biáº¿t hash ECDSA cá»§a khoÃ¡ cÃ´ng khai vÃ  má»™t quy trÃ¬nh xÃ¡c thá»±c chá»¯ kÃ½, Ä‘áº¡i diá»‡n cho cÃ¡c Ä‘iá»u kiá»‡n mÃ  giao dá»‹ch nÃ y pháº£i Ä‘Ã¡p á»©ng. Äá»ƒ thá»±c hiá»‡n thÃ nh cÃ´ng giao dá»‹ch, sciptSig vÃ  tá»‡p scriptPubKey pháº£i Ä‘Æ°á»£c thá»±c hiá»‡n thÃ nh cÃ´ng theo thá»© tá»±.

### 4.1.2 NgÃ´n ngá»¯ ká»‹ch báº£n

Bitcoin cung cáº¥p má»™t ngÃ´n ngá»¯ ká»‹ch báº£n, Ä‘Æ°á»£c thiáº¿t káº¿ vÃ  phÃ¡t triá»ƒn dÃ nh riÃªng cho Bitcoin chá»‰ vá»›i 256 hÆ°á»›ng dáº«n. NÃ³ lÃ  ngÃ´n ngá»¯ láº­p trÃ¬nh stack vá»›i má»¥c Ä‘Ã­ch há»— trá»£ cho hoáº¡t Ä‘á»™ng mÃ£ hÃ³a dá»¯ liá»‡u hash vÃ  xÃ¡c minh chá»¯ kÃ½. Thiáº¿t káº¿ cá»§a ngÃ´n ngá»¯ theo kiáº¿n trÃºc ad-hoc, non-Turing, Ä‘iá»u nÃ y Ä‘á»“ng nghÄ©a vá»›i viá»‡c nÃ³ khÃ´ng cÃ³ kháº£ nÄƒng tÃ­nh toÃ¡n máº½ tÃ¹y Ã½ vÃ  má»i lá»‡nh Ä‘Æ°á»£c thá»±c thi má»™t cÃ¡ch tuyáº¿n tÃ­nh chÃ­nh xÃ¡c má»™t láº§n. NÃ³ khÃ´ng há»— trá»£ vÃ²ng láº·p bá»Ÿi vÃ¬ cÃ¡c thá»£ má» pháº£i thá»±c thi cÃ¡c ká»‹ch báº£n Ä‘Æ°á»£c gá»­i bá»Ÿi nhá»¯ng ngÆ°á»i tham gia tá»« báº¥t ká»³ Ä‘Ã¢u nÃªn nÃ³ cáº§n trÃ¡nh cÃ¡c vÃ²ng láº·p vÃ´ táº­n. Khi ká»‹ch báº£n Ä‘Æ°á»£c thá»±c hiá»‡n, chá»‰ cÃ³ hai káº¿t quáº£ cÃ³ thá»ƒ cÃ³ hoáº·c lÃ  nÃ³ thá»±c hiá»‡n thÃ nh cÃ´ng mÃ  khÃ´ng cÃ³ lá»—i vÃ  giao dá»‹ch lÃ  há»£p lá»‡ hoáº·c cÃ³ má»™t lá»—i trong khi ká»‹ch báº£n Ä‘ang thá»±c hiá»‡n. Trong trÆ°á»ng há»£p thá»© hai, toÃ n bá»™ giao dá»‹ch sáº½ khÃ´ng há»£p lá»‡ vÃ  khÃ´ng Ä‘Æ°á»£c cháº¥p nháº­n Ä‘á»ƒ ná»‘i vÃ o blockchain.

### 4.1.3 Máº¡ng Bitcoin

Giao dá»‹ch Bitcoin cÃ³ thá»ƒ Ä‘Æ°á»£c thá»±c hiá»‡n trÃªn ba máº¡ng, main-net (máº¡ng chÃ­nh), test-net (máº¡ng thá»­ nghiá»‡m) vÃ  private-net (máº¡ng riÃªng). Main-net lÃ  máº¡ng Bitcoin chÃ­nh, nÆ¡i bitcoin Ä‘Æ°á»£c yÃªu cáº§u cho cÃ¡c giao dá»‹ch. Máº¡ng thá»­ nghiá»‡m cÅ©ng lÃ  máº¡ng cÃ´ng cá»™ng cá»§a Bitcoin nhÆ°ng cÃ³ khá»‘i genesis khÃ¡c máº¡ng chÃ­nh vÃ  Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t láº¡i ba láº§n. Máº¡ng thá»­ nghiá»‡m khÃ´ng yÃªu cáº§u bitcoin thá»±c vÃ  Ä‘Æ°á»£c dÃ¹ng cho viá»‡c thá»­ nghiá»‡m cÃ¡c á»©ng dá»¥ng bitcoin trÆ°á»›c khi triá»ƒn khai lÃªn máº¡ng chÃ­nh. Máº¡ng chÃ­nh vÃ  máº¡ng thá»­ nghiá»‡m Ä‘Æ°á»£c phÃ¡t triá»ƒn vÃ  duy trÃ¬ bá»Ÿi nhÃ³m cÃ¡c nhÃ  phÃ¡t triá»ƒn Bitcoin trong khi máº¡ng riÃªng cÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai bá»Ÿi báº¥t ká»³ ai Ä‘á»ƒ sá»­ dá»¥ng cho má»¥c Ä‘Ã­ch cÃ¡ nhÃ¢n hoáº·c Ä‘á»ƒ há»— trá»£ cÃ¡c cÃ´ng ty cho tá»«ng trÆ°á»ng há»£p sá»­ dá»¥ng cá»§a riÃªng há». NgoÃ i ra, viá»‡c khai thÃ¡c trong máº¡ng riÃªng nhanh hÆ¡n máº¡ng thá»­ nghiá»‡m vÃ¬ cÃ³ Ã­t ngÆ°á»i dÃ¹ng vÃ  giao dá»‹ch hÆ¡n so vá»›i máº¡ng thá»­ nghiá»‡m hoáº·c máº¡ng chÃ­nh.

### 4.1.4 Lá»£i tháº¿

CÃ´ng nghá»‡ Bitcoin cÃ³ má»™t sá»‘ Æ°u Ä‘iá»ƒm so vá»›i cÃ¡c há»‡ thá»‘ng tÃ i chÃ­nh hiá»‡n cÃ³ sá»­ dá»¥ng kiáº¿n â€‹â€‹trÃºc server-client nÆ¡i ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c Ä‘Äƒng kÃ½ vá»›i mÃ¡y chá»§ trung tÃ¢m vÃ  mÃ¡y chá»§ trung tÃ¢m sá»Ÿ há»¯u dá»¯ liá»‡u ngÆ°á»i dÃ¹ng. CÃ´ng nghá»‡ Bitcoin an toÃ n vÃ¬ cÃ¡c giao dá»‹ch Ä‘Æ°á»£c báº£o máº­t báº±ng mÃ£ hÃ³a cÃ´ng khai vÃ  niá»m tin Ä‘Æ°á»£c thiáº¿t láº­p trÃªn máº¡ng P2P. NÃ³ ráº» hÆ¡n vÃ¬ cÃ¡c giao dá»‹ch Ä‘Æ°á»£c lang truyá»n ngay láº­p tá»©c qua máº¡ng P2P vÃ  chÃºng Ä‘Æ°á»£c truyá»n Ä‘i nhanh nháº¥t cÃ³ thá»ƒ Ä‘áº¿n cÃ¡c nÃºt khÃ¡c. NgoÃ i ra, chi phÃ­ xá»­ lÃ½ giao dá»‹ch trung gian tháº¥p hÆ¡n há»‡ thá»‘ng tÃ i chÃ­nh hiá»‡n cÃ³. BÃªn cáº¡nh Ä‘Ã³, máº¡ng cÃ²n cÃ³ tÃ­nh cháº¥t phÃ¢n tÃ¡n vÃ  giao dá»‹chÄ‘Ã£ thá»±c hiá»‡n lÃ  khÃ´ng thá»ƒ thay Ä‘á»•i, Ä‘Æ°á»£c lÆ°u vÄ©nh viá»…n vÃ o sá»• cÃ¡i phÃ¢n tÃ¡n. Sá»• cÃ¡i nÃ y giÃºp dá»… dÃ ng phÃ¡t hiá»‡n gian láº­n vÃ  chá»©ng minh quyá»n sá»Ÿ há»¯u vá»›i tÃ i sÃ n vÃ  giao dá»‹ch.

### 4.1.5 Nhá»¯ng má»‘i Ä‘e dá»a

Bitcoin cÃ³ má»™t sá»‘ lá»— há»•ng vÃ  cÃ¡c háº¡n cháº¿ nhÆ° nÃ³ khÃ´ng hoÃ n toÃ n cÃ³ thá»ƒ má»Ÿ rá»™ng vÃ¬ chá»‰ cÃ³ má»™t lÆ°á»£ng Bitcoin giá»›i háº¡n (khoáº£ng 21 triá»‡u). NÃ³ tá»‘n thá»i gian Ä‘á»ƒ cÃ¡c giao dá»‹ch Ä‘Æ°á»£c xÃ¡c nháº­n lÃ  10 phÃºt. VÃ¬ váº­y, pháº£i máº¥t má»™t giá» Ä‘á»ƒ cÃ³ Ä‘Æ°á»£c sÃ¡u khá»‘i má»›i Ä‘Æ°á»£c thÃªm vÃ o blockchain. KÃ­ch thÆ°á»›c blockchain cá»§a Bitcoin Ä‘Ã£ tÄƒng tá»« 50GB lÃªn 120GB vÃ  nÃ³ luÃ´n tÄƒng lÃªn. NgoÃ i ra, sá»©c máº¡nh tÃ­nh toÃ¡n cáº§n Ä‘á»ƒ giáº£i quyáº¿t váº¥n Ä‘á» toÃ¡n há»c tÄƒng theo cáº¥p sá»‘ nhÃ¢n má»i lÃºc. Káº¿t quáº£ lÃ , chá»‰ má»™t sá»‘ nÃºt cÃ³ cÃ´ng suáº¥t tÃ­nh toÃ¡n cao má»›i cÃ³ thá»ƒ trá»Ÿ thÃ nh thá»£ má» thá»±c thá»¥, Ä‘iá»u nÃ y cÃ³ thá»ƒ phÃ¡ vá»¡ nguyÃªn táº¯c cá»§a há»‡ thá»‘ng phÃ¢n tÃ¡n. Chi phÃ­ nÄƒng lÆ°á»£ng dÃ nh cho tÃ­nh toÃ¡n ngÃ y cÃ ng cao. Náº¿u tin táº·c láº¥y cáº¯p khÃ³a cÃ¡ nhÃ¢n cá»§a ngÆ°á»i dÃ¹ng, há» cÃ³ thá»ƒ láº¥y cáº¯p Ä‘á»‹nh danh cá»§a ngÆ°á»i dÃ¹ng vÃ  khÃ´i phá»¥c lÃ  Ä‘iá»u khÃ´ng thá»ƒ, ngÆ°á»i dÃ¹ng sáº½ máº¥t táº¥t cáº£ bitcoin cá»§a mÃ¬nh mÃ£i mÃ£i. VÃ­ dá»¥, vÃ o thÃ¡ng 2 nÄƒm 2014 Mt. Gox, sÃ n giao dá»‹ch Bitcoin lá»›n thá»© ba trÃªn tháº¿ giá»›i cÃ³ 850.000 bitcoin bá»‹ Ä‘Ã¡nh cáº¯p vÃ  do Ä‘Ã³ cÃ´ng ty pháº£i tuyÃªn bá»‘ phÃ¡ sáº£n.

## 4.2 Namecoin

Namecoin lÃ  má»™t tiá»n Ä‘iá»‡n tá»­ thay tháº¿ (alt-coin) dá»±a trÃªn giao thá»©c BitDNS vá»›i Ã½ Ä‘á»‹nh táº¡o ra censor-resistance domain name system (há»‡ thá»‘ng kiá»ƒm duyá»‡t tÃªn miá»n) náº±m ngoÃ i sá»± kiá»ƒm soÃ¡t cá»§a báº¥t ká»³ thá»±c thá»ƒ duy nháº¥t nÃ o. Há»‡ thá»‘ng sá»­ dá»¥ng blockchain Ä‘á»ƒ quáº£n lÃ½ tra cá»©u tÃªn miá»n thay vÃ¬ sá»­ dá»¥ng mÃ¡y chá»§ táº­p trung nhÆ° Internet Corporation for Assigned Names and Numbers (ICANN), thá»± hiá»‡n tÃ i Ä‘Ã²i há»i sá»± tin tÆ°á»Ÿng vÃ o cÆ¡ quan trung Æ°Æ¡ng vÃ  cÃ³ thá»ƒ táº¡o ra SPOF. Namecoin lÃ  fork Ä‘áº§u tiÃªn cá»§a mÃ£ nguá»“n bitcoin vá»›i blockchain riÃªng cá»§a nÃ³. NÃ³ sá»­ dá»¥ng cÃ¡c tÃ­nh nÄƒng cá»‘t lÃµi cá»§a Bitcoin cháº³ng háº¡n nhÆ° pow, thá»i gian táº¡o khá»‘i cÃ¹ng vá»›i cÃ¡c tÃ­nh nÄƒng bá»• sung nhÆ° name/value store. Name/value store lÃ  má»™t cÆ¡ sá»Ÿ dá»¯ liá»‡u giao dá»‹ch blockchain nÆ¡i ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ lÆ°u trá»¯ tÃ¹y Ã½ dá»¯ liá»‡u Ä‘á»‹nh danh nhÆ° username, email hoáº·c Ä‘á»‹a chá»‰ web. NÃ³ Ä‘Æ°á»£c sá»­ dá»¥ng chá»§ yáº¿u Ä‘á»ƒ Ä‘á»‹nh danh trang web vÃ  nÃ³ cho phÃ©p Ä‘Äƒng kÃ½ vÃ  phÃ¢n giáº£i tÃªn miá»n cho tÃªn miá»n cáº¥p cao nháº¥t (top-level domain TLD) .bit.
Tam giÃ¡c Namecoin Zooko (Namecoin squares Zooko Triangle, Zooko Triangle lÃ  má»™t Trilemma â€“ Bá»™ ba báº¥t kháº£ thi, Zooko Triangle lÃ  má»™t bá»™ ba báº¥t kháº£ thi cá»§a 3 thuá»™c tÃ­nh Humman-readable, Secure vÃ  Decentralized) cho phÃ©p Ä‘áº·t tÃªn miá»n cÃ³ cáº£ ba thuá»™c tÃ­nh human-readable (Ä‘á»c Ä‘Æ°á»£c), decentralized (phÃ¢n cáº¥p) vÃ  authenticated (chá»©ng thá»±c). Human-readable nghÄ©a lÃ  ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ chá»n má»™t tÃªn miá»n gá»“m cÃ¡c kÃ½ tá»± mÃ  con ngÆ°á»i Ä‘á»c Ä‘Æ°á»£c. Decentralized cÃ³ nghÄ©a lÃ  khÃ´ng cÃ³ bÃªn trung tÃ¢m Ä‘Ã¡ng tin cáº­y hoáº·c SPOF. Authenticated nghÄ©a lÃ  ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c sá»Ÿ há»¯u máº¡nh máº½ tÃªn miá»n nÃ y nhá» sá»­ dá»¥ng cáº·p khÃ³a mÃ£ hÃ³a. Cho Ä‘áº¿n nÄƒm 2011, viá»‡c thiáº¿t káº¿ má»™t há»‡ thá»‘ng cÃ³ thá»ƒ cÃ³ táº¥t cáº£ ba thuá»™c tÃ­nh nÃ y lÃ  Ä‘iá»u khÃ´ng thá»ƒ. Tuy nhiÃªn, Namecoin lÃ  há»‡ thá»‘ng Ä‘áº§u tiÃªn cung cáº¥p há»‡ thá»‘ng cÃ³ táº¥t cáº£ ba thuá»™c tÃ­nh.
Namecoin cyptocurrency Ä‘Æ°á»£c gá»i lÃ  namecoin vÃ  Ä‘Æ¡n vá»‹ cá»§a nÃ³ cÃ³ kÃ½ hiá»‡u lÃ  NMC, ngÆ°á»i dÃ¹ng cÃ²n cÃ³ thá»ƒ Ä‘Äƒng kÃ½ tÃªn miá»n .bit táº¡i dotbit.me vá»›i má»™t khoáº£n phÃ­ ráº¥t nhá» lÃ  0,01 BTC, 5 hoáº·c 20 NMC. TÆ°Æ¡ng tá»± nhÆ° bitcoin, Namecoin cÅ©ng bá»‹ giá»›i háº¡n tá»›i 21 triá»‡u Ä‘á»“ng. Khá»‘i Namecoin Ä‘áº§u tiÃªn Ä‘Æ°á»£c khai thÃ¡c vÃ o thÃ¡ng 4 nÄƒm 2011.
Dá»±a trÃªn Namecoin, cÃ¡c á»©ng dá»¥ng khÃ¡c nhau nhÆ° OneName vÃ  Blockstack Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t triá»ƒn. OneName sá»­ dá»¥ng blockchain Namecoin Ä‘á»ƒ ghi láº¡i dá»¯ liá»‡u thÃ nh viÃªn trong khi Blockstack cung cáº¥p chá»©c nÄƒng tÆ°Æ¡ng tá»± vá»›i ná»n táº£ng Bitcoin blockchain vÃ  giá»›i thiá»‡u kháº£ nÄƒng há»— trá»£ phÃ¡t hÃ nh nhá»¯ng á»©ng dá»¥ng cháº¡y mÃ  khÃ´ng cáº§n cÃ³ server.

## 4.3 Ethereum

Ethereum Ä‘Æ°á»£c biáº¿t Ä‘áº¿n nhÆ° blockchain phá»• biáº¿n thá»© 2. NÃ³ Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ giáº£i quyáº¿t nhá»¯ng Ä‘iá»ƒm yáº¿u cá»§a bitcoin. Äiá»ƒm yáº¿u Ä‘áº§u tiÃªn lÃ  ngÃ´n ngá»¯ ká»‹ch báº£n bitcoin cÃ³ giá»›i háº¡n sá»‘ lá»‡nh vÃ  non-Turing. NgÃ´n ngá»¯ ká»‹ch báº£n cá»§a bitcoin táº­p vÃ o trÆ°á»ng há»£p sá»­ dá»¥ng bitcoin. Viá»‡c phÃ¡t triá»ƒn cÃ¡c á»©ng dá»¥ng báº±ng cÃ¡ch sá»­ dá»¥ng ká»‹ch báº£n lá»‡nh Bitcoin Ä‘Ã²i há»i cÃ¡c nhÃ  phÃ¡t triá»ƒn pháº£i má»Ÿ rá»™ng mÃ£ nguá»“n bitcoin vÃ  thÃªm logic cho cÃ¡c trÆ°á»ng há»£p sá»­ dá»¥ng riÃªng cá»§a há». Viá»‡c nÃ y tiÃªu tá»‘n thá»i gian vÃ  khÃ³ Ä‘á»ƒ duy trÃ¬ lÃ¢u dÃ i. Do Ä‘Ã³, Ä‘á»ƒ giáº£i quyáº¿t nhá»¯ng thÃ¡ch thá»©c nÃ y, Ethereum Ä‘Ã£ Ä‘Æ°á»£c phÃ¡t triá»ƒn. Ethereum cung cáº¥p má»™t ná»n táº£ng cho cÃ¡c láº­p trÃ¬nh viÃªn Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c á»©ng dá»¥ng trÃªn má»™t blockchain Ä‘Æ°á»£c gá»i lÃ  má»™t blockchain Ethereum. NÃ³ Ä‘Æ°á»£c Ä‘á» xuáº¥t Ä‘áº§u tiÃªn vÃ o cuá»‘i nÄƒm 2013 bá»Ÿi má»™t láº­p trÃ¬nh viÃªn Bitcoin tÃªn lÃ  Vitalik Buterin trong Ethereum Whitepaper: Má»™t há»£p Ä‘á»“ng thÃ´ng minh tháº¿ há»‡ tiáº¿p theo vÃ  ná»n táº£ng á»©ng dá»¥ng phÃ¢n cáº¥p '. Luáº­n Ã¡n nÃ y Ä‘á» xuáº¥t má»™t ngÃ´n ngá»¯ láº­p trÃ¬nh Turing hoÃ n chá»‰nh Ä‘á»ƒ viáº¿t ká»‹ch báº£n (há»£p Ä‘á»“ng thÃ´ng minh) vÃ  cÃ¡c MÃ¡y áº£o Ethereum (EVM) Ä‘á»ƒ thá»±c thi cÃ¡c há»£p Ä‘á»“ng vÃ  giao dá»‹ch thÃ´ng minh.
NgÆ°á»i dÃ¹ng Ethereum cÃ³ thá»ƒ táº¡o cÃ¡c há»£p Ä‘á»“ng thÃ´ng minh vÃ  táº£i chÃºng lÃªn Ethereum Blockchain vá»›i má»™t khoáº£n phÃ­ nhá». Nhá»¯ng ngÆ°á»i dÃ¹ng Ethereum khÃ¡c cÃ³ thá»ƒ truy cáº­p cÃ¡c há»£p Ä‘á»“ng nÃ y báº±ng cÃ¡c cuá»™c gá»i thá»§ tá»¥c tá»« xa Ä‘Æ°á»£c cung cáº¥p bá»Ÿi Ethereum Application Program Interface (EAPI). Há»£p Ä‘á»“ng cÃ³ thá»ƒ chá»©a dá»¯ liá»‡u, gá»­i giao dá»‹ch vÃ  tÆ°Æ¡ng tÃ¡c vá»›i cÃ¡c há»£p Ä‘á»“ng khÃ¡c. CÃ¡c há»£p Ä‘á»“ng Ä‘Æ°á»£c dá»‹ch thÃ nh bytecode sau chÃºng Ä‘Æ°á»£c táº£i lÃªn blockchain, chÃºng Ä‘Æ°á»£c lÆ°u trá»¯, thá»±c hiá»‡n bá»Ÿi EVM. EVM yÃªu cáº§u má»™t khoáº£n phÃ­ nhá» Ä‘á»ƒ thá»±c hiá»‡n giao dá»‹ch. CÃ¡c khoáº£n phÃ­ nÃ y Ä‘Æ°á»£c gá»i lÃ  gas vÃ  lÆ°á»£ng gas phá»¥ thuá»™c vÃ o kÃ­ch thÆ°á»›c cá»§a lá»‡nh. Sá»‘ lá»‡nh há»£p Ä‘á»“ng cÃ ng dÃ i thÃ¬ gas cÃ ng nhiá»u. NgoÃ i ra, Ethereum cÃ³ tiá»n Ä‘iá»‡n tá»­ riÃªng Ä‘Æ°á»£c gá»i lÃ  ether vÃ  nÃ³ Ä‘Æ°á»£c trÃ¬nh bÃ y báº±ng chá»¯ viáº¿t táº¯t ETH. Ether lÃ  má»™t loáº¡i tiá»n Ä‘á»ƒ sá»­ dá»¥ng á»©ng dá»¥ng trÃªn máº¡ng Ethereum. ÄÆ¡n vá»‹ nhá» nháº¥t cá»§a ether lÃ  Wei. Má»™t ether báº±ng 10^18 Wei. NgÆ°á»i dÃ¹ng cÃ³ thá»ƒ sá»­ dá»¥ng Ethereum Ä‘á»ƒ Ä‘á»•i thÃ nh tiá»n máº·t hoáº·c ngÆ°á»£c láº¡i.

### 4.3.1 Ethereum Blockchain

Ethereum blockchain tÆ°Æ¡ng tá»± nhÆ° blockchain bitcoin vá»›i má»™t sá»‘ Ä‘iá»ƒm khÃ¡c biá»‡t nháº¥t Ä‘á»‹nh trong kiáº¿n â€‹â€‹trÃºc. CÃ¡c Ä‘iá»ƒm khÃ¡c biáº¿t Ä‘Æ°á»£c liá»‡t kÃª nhÆ° sau: blockchain Ethereum chá»©a má»™t báº£n sao cá»§a cáº£ danh sÃ¡ch giao dá»‹ch vÃ  cáº£ tráº¡ng thÃ¡i gáº§n Ä‘Ã¢y nháº¥t, thá»i gian táº¡o khá»‘i lÃ  12 giÃ¢y má»™t láº§n, Ethereum blockchain sá»­ dá»¥ng giao thá»©c GHOST Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c nhÃ¡nh Ä‘á»“ng thuáº­n vá»›i pow Ä‘Æ°á»£c gá»i lÃ  Ethash (Ä‘Ã£ cÃ³ káº¿ hoáº¡ch Ä‘á»ƒ chuyá»ƒn tá»« POW sang POS), yÃªu cáº§u tá»‘i thiá»ƒu 6 láº§n xÃ¡c minh giao dá»‹ch Ä‘á»ƒ giao dá»‹ch Ä‘Æ°á»£c cháº¥p thuáº­n vÃ  ngÆ°á»i khai thÃ¡c nháº­n Ä‘Æ°á»£c pháº§n thÆ°á»Ÿng lÃ  5 ether.
NgÆ°á»i dÃ¹ng cáº§n má»™t tÃ i khoáº£n Ä‘á»ƒ sá»­ dá»¥ng Ethereum. Má»™t tÃ i khoáº£n cÃ³ bá»‘n trÆ°á»ng: nonce, sá»‘ dÆ° ether, mÃ£ há»£p Ä‘á»“ng vÃ  vÃ¹ng lÆ°u trá»¯. CÃ¡c nonce Ä‘áº£m báº£o má»™t giao dá»‹ch Ä‘Æ°á»£c xá»­ lÃ½ chá»‰ má»™t láº§n. Sá»‘ dÆ° Ether lÃ  sá»‘ tiá»n mÃ  ngÆ°á»i dÃ¹ng cÃ³. MÃ£ há»£p Ä‘á»“ng chá»©a cÃ¡c há»£p Ä‘á»“ng thÃ´ng minh do ngÆ°á»i dÃ¹ng triá»ƒn khai cho EVM. EVM cung cáº¥p mÃ´i trÆ°á»ng Ä‘á»ƒ thá»±c hiá»‡n há»£p Ä‘á»“ng vÃ  lÆ°u trá»¯ liÃªn tá»¥c Ä‘á»ƒ lÆ°u dá»¯ liá»‡u. TÃ i khoáº£n Ethereum cÃ³ hai loáº¡i, tÃ i khoáº£n external (bÃªn ngoÃ i) vÃ  tÃ i khoáº£n contract (há»£p Ä‘á»“ng). TÃ i khoáº£n external Ä‘Æ°á»£c sá»Ÿ há»¯u vÃ  táº¡o bá»Ÿi ngÆ°á»i dÃ¹ng vÃ  Ä‘Æ°á»£c kiá»ƒm soÃ¡t báº±ng khÃ³a riÃªng. TÃ i khoáº£n há»£p Ä‘á»“ng Ä‘Æ°á»£c kiá»ƒm soÃ¡t bá»Ÿi mÃ£ há»£p Ä‘á»“ng. CÃ¡c tÃ i khoáº£n Ethereum táº¡o ra cÃ¡c giao dá»‹ch vÃ  tin nháº¯n.

### 4.3.2 Giao dá»‹ch vÃ  tin nháº¯n

NÃ³i má»™t cÃ¡ch Ä‘Æ¡n giáº£n, giao dá»‹ch lÃ  gÃ³i dá»¯ liá»‡u Ä‘Æ°á»£c ngÆ°á»i gá»­i kÃ½, dá»¯ liá»‡u Ä‘Ã³ Ä‘Æ°á»£c gá»­i tá»« má»™t tÃ i khoáº£n external. Má»™t giao dá»‹ch ethereum chá»©a Ä‘á»‹a chá»‰ ngÆ°á»i nháº­n, chá»¯ kÃ½ sá»‘ cá»§a ngÆ°á»i gá»­i, sá»‘ tiá»n ether Ä‘Æ°á»£c gá»­i Ä‘áº¿n ngÆ°á»i nháº­n, dá»¯ liá»‡u, startgas vÃ  gasprice. Äá»‹a chá»‰ nháº­n lÃ  Ä‘á»‹a chá»‰ public key cá»§a ngÆ°á»i nháº­n cÃ²n chá»¯ kÃ½ sá»‘ Ä‘Æ°á»£c dÃ¹ng Ä‘á»ƒ xÃ¡c thá»±c ngÆ°á»i gá»­i. TrÆ°á»ng dá»¯ liá»‡u trong giao dá»‹ch etherum lÃ  trÆ°á»ng khÃ´ng báº¯t buá»™c pháº£i cÃ³ vÃ  cÅ©ng khÃ´ng cÃ³ chá»©c nÄƒng trong há»‡ thá»‘ng, tuy nhiÃªn nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi mÃ¡y áº£o cÃ³ opcode (operation code - mÃ£ hoáº¡t Ä‘á»™ng) Ä‘á»ƒ cung cáº¥p dá»¯ liá»‡u cháº¡y smart contract. Startgas vÃ  gasprice dÃ¹ng Ä‘á»ƒ trÃ¡nh tÃ­nh huá»‘ng cÃ¡c vÃ²ng láº·p tiÃªu hao háº¿t gas. Má»—i bÆ°á»›c tÃ­nh toÃ¡n yÃªu cáº§u 1 gas, ngoÃ i ra pháº£i tráº£ thÃªm 1 gas cho má»—i 5 gas tiÃªu thá»¥. Má»i giao dá»‹ch pháº£i xÃ¡c Ä‘á»‹nh trÆ°á»›c bao nhiÃªu gas sáº½ Ä‘Æ°á»£c dÃ¹ng. Náº¿u má»™t giao dá»‹ch Ä‘ang thá»±c thi mÃ  háº¿t gas nÃ³ sáº½ dá»«ng láº¡i. Do Ä‘Ã³, má»™t Ä‘iá»u quan trá»ng khi thá»±c hiá»‡n cÃ¡c giao dá»‹ch trong ethereum lÃ  báº¡n nÃªn cung cáº¥p Ä‘á»§ gas cho nÃ³. Ethereum theo thiáº¿t káº¿ khÃ´ng thÃ­ch há»£p cho cÃ¡c há»£p Ä‘á»“ng tÃ­nh toÃ¡n náº·ng khi viá»‡c táº¡o vÃ  thá»±c hiá»‡n cÃ¡c smart contract lÃ  ráº¥t tá»‘n kÃ©m. Táº¡o vÃ  thá»±c thi má»™t há»£p Ä‘á»“ng yÃªu cáº§u ether, nhÆ°ng viá»‡c truy váº¥n má»™t há»£p Ä‘á»“ng khÃ´ng yÃªu cáº§u báº¥t ká»³ ether nÃ o. Giáº£ sá»­ cÃ³ má»™t há»£p Ä‘á»“ng cÃ³ hai chá»©c nÄƒng Ä‘Äƒng kÃ½ vÃ  liá»‡t kÃª ngÆ°á»i dÃ¹ng, trong Ä‘Ã³, Ä‘Äƒng kÃ½ ngÆ°á»i dÃ¹ng yÃªu cáº§u ether nhÆ°ng truy xuáº¥t danh sÃ¡ch ngÆ°á»i dÃ¹ng khÃ´ng yÃªu cáº§u báº¥t ká»³ ether nÃ o.
KhÃ´ng giá»‘ng nhÆ° giao dá»‹ch, tin nháº¯n Ä‘Æ°á»£c táº¡o ra bá»Ÿi tÃ i khoáº£n contract thay vÃ¬ tÃ i khoáº£n external. Tin nháº¯n Ä‘Æ°á»£c táº¡o ra khi má»™t há»£p Ä‘á»“ng gá»­i thÃ´ng tin Ä‘áº¿n há»£p Ä‘á»“ng khÃ¡c báº±ng cÃ¡ch thá»±c hiá»‡n mÃ£ lá»‡nh CALL. CÃ¡c thÃ´ng Ä‘iá»‡p chá»‰ sá»‘ng trong mÃ´i trÆ°á»ng thá»±c thi Ethereum. TÆ°Æ¡ng tá»± nhÆ° giao dá»‹ch, tin nháº¯n cÅ©ng cÃ³ ngÆ°á»i gá»­i, ngÆ°á»i nháº­n, ether Ä‘Æ°á»£c gá»­i, giÃ¡ trá»‹ dá»¯ liá»‡u vÃ  giÃ¡ trá»‹ startgas.

### 4.3.3 Smart Contracts

Há»£p Ä‘á»“ng thÃ´ng minh lÃ  má»™t thÃ nh pháº§n quan trá»ng táº¡o nÃªn sá»± thÃ nh cÃ´ng cá»§a Ethereum. NÃ³ lÃ  má»™t chÆ°Æ¡ng trÃ¬nh tá»± trá»‹, tá»± thá»±c thi trong mÃ´i trÆ°á»ng Ethereum, nÃ³ cháº¡y khi Ä‘Æ°á»£c kÃ­ch hoáº¡t bá»Ÿi má»™t tin nháº¯n hoáº·c má»™t giao dá»‹ch. NÃ³ cÃ³ sá»‘ dÆ° ether riÃªng. ChÆ°Æ¡ng trÃ¬nh trong smart contract thá»±c hiá»‡n cho Ä‘áº¿n khi nÃ³ gáº·p má»™t lá»—i, lá»‡nh STOP hoáº·c RETURN. CÃ¡c chÆ°Æ¡ng trÃ¬nh cá»§a smart contract cÃ³ quyá»n truy cáº­p vÃ o ba loáº¡i khÃ´ng gian lÆ°u trá»¯: ngÄƒn xáº¿p, bá»™ nhá»› vÃ  bá»™ lÆ°u trá»¯ Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u. NgÄƒn xáº¿p lÃ  vÃ¹ng chá»©a last in first out, nÆ¡i cÃ¡c giÃ¡ trá»‹ cÃ³ thá»ƒ Ä‘Æ°á»£c nhÃ©t vÃ o vÃ  láº¥y ra. TÆ°Æ¡ng tá»±, bá»™ nhá»› lÃ  máº£ng byte khÃ´ng giá»›i háº¡n. Bá»™ lÆ°u trá»¯ lÃ  khÃ´ng gian lÆ°u trá»¯ dÃ i háº¡n theo kiáº¿n trÃºc key/value.
Há»£p Ä‘á»“ng thÃ´ng minh Ä‘Æ°á»£c viáº¿t báº±ng cÃ¡ch sá»­ dá»¥ng ngÃ´n ngá»¯ solidity hoáº·c serpent. Khi má»™t chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c viáº¿t báº±ng má»™t trong nhá»¯ng ngÃ´n ngá»¯ nÃ y, nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai trong Ethereum Blockchain báº±ng cÃ¡ch sá»­ dá»¥ng vÃ­ Mist hoáº·c Ethereum. VÃ­ Mist vÃ  Ethereum lÃ  á»©ng dá»¥ng Ä‘Æ°á»£c phÃ¡t triá»ƒn trÃªn ná»n táº£ng ethereum, cÃ¡c á»©ng dá»¥ng nÃ y cho phÃ©p cÃ¡c nhÃ  phÃ¡t triá»ƒn / ngÆ°á»i dÃ¹ng táº¡o tÃ i khoáº£n vÃ  cÃ¡c á»©ng dá»¥ng ethereum. á»¨ng dá»¥ng Mist vÃ  Wallet cÅ©ng cho phÃ©p ngÆ°á»i dÃ¹ng kiá»ƒm tra vÃ  triá»ƒn khai cÃ¡c á»©ng dá»¥ng ethereum cá»§a há» vÃ o máº¡ng. Giá»‘ng nhÆ° trong Bitcoin, há»£p Ä‘á»“ng cÃ³ thá»ƒ Ä‘Æ°á»£c triá»ƒn khai trong máº¡ng lÆ°á»›i chÃ­nh hoáº·c máº¡ng riÃªng hoáº·c máº¡ng thá»­ nghiá»‡m.

### 4.3.4 Decentralized Autonomous Organization

Ethereum smart contract vÃ  blockchain cung cáº¥p tiá»m nÄƒng khÃ´ng giá»›i háº¡n Ä‘á»ƒ phÃ¡t triá»ƒn má»™t loáº¡t cÃ¡c á»©ng dá»¥ng phi táº­p trung (Dapps). VÃ­ dá»¥, tiá»n Ä‘iá»‡n tá»­ riÃªng, tá»• chá»©c tá»± quáº£n phÃ¢n cáº¥p (decentralized autonomous organization - DAO) vÃ  há»‡ thá»‘ng lÆ°u trá»¯ phi táº­p trung. Tiá»n Ä‘iá»‡n tá»­ riÃªng cÃ³ thá»ƒ Ä‘Æ°á»£c cÃ¡c cÃ´ng ty sá»­ dá»¥ng cho má»¥c Ä‘Ã­ch ná»™i bá»™ cá»§a há». Trong khi Ä‘Ã³ má»¥c tiÃªu cá»§a DAO lÃ  xÃ¢y dá»±ng cÃ¡c tá»• chá»©c vá»›i cÃ¡c quy táº¯c vÃ  má»™t bá»™ mÃ¡y ra quyáº¿t Ä‘á»‹nh Ä‘Æ°á»£c Ä‘á»‹nh sáºµn tá»« trÆ°á»›c, nÃ³ giÃºp loáº¡i bá» nhu cáº§u biÃªn soáº¡n tÃ i liá»‡u Ä‘á»ƒ miÃªu táº£ quy Ä‘á»‹nh hay ná»™i quy vÃ  ngÆ°á»i quáº£n lÃ½ thá»±c hiá»‡n cÃ¡c quy Ä‘á»‹nh vÃ  ná»™i quy Ä‘Ã³. Ná»n táº£n nÃ y cÃ³ thá»ƒ Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi nhÃ  Ä‘áº§u tÆ° Ä‘á»ƒ Ä‘áº§u tÆ° vÃ o cÃ¡c dá»± Ã¡n khá»Ÿi nghiá»‡p vÃ¬ tÃ­nh minh báº¡ch, phÃ¢n tÃ¡n cá»§a nÃ³. Má»™t sá»‘ á»©ng dá»¥ng thá»±c táº¿ lÃ  Weifund, Uport vÃ  Provenance. Weifund táº­n dá»¥ng smart contract Ä‘á»ƒ cung cáº¥p má»™t ná»n táº£ng má»Ÿ cho cÃ¡c chiáº¿n dá»‹ch gÃ¢y quá»¹ cá»™ng Ä‘á»“ng. Uport cung cáº¥p má»™t ná»n táº£n cho ngÆ°á»i dÃ¹ng Ä‘á»ƒ tá»± kiá»ƒm soÃ¡t Ä‘á»‹nh danh cá»§a há» thay vÃ¬ Ä‘Æ°a sá»± kiá»ƒm soÃ¡t cho cÃ¡c tá»• chá»©c chÃ­nh phá»§. Provenance cho phÃ©p má»Ÿ rá»™ng chuá»—i cung á»©ng báº±ng cÃ¡ch giÃ¡m sÃ¡t lá»‹ch sá»­ sáº£n pháº©m nhá» Ä‘Ã³ ngÆ°á»i tiÃªu dÃ¹ng cÃ³ thá»ƒ Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh khi há» mua sáº£n pháº©m.

### 4.3.5 Nhá»¯ng má»‘i Ä‘e dá»a

Máº·c dÃ¹ Ethereum an toÃ n vÃ  phÃ¢n tÃ¡n nhÆ°ng nÃ³ váº«n cÃ³ nhá»¯ng Ä‘iá»ƒm yáº¿u nháº¥t Ä‘á»‹nh. MÃ£ nguá»“n Ethereum lÃ  mÃ£ nguá»“n má»Ÿ vÃ  Ä‘Æ°á»£c duy trÃ¬ bá»Ÿi má»™t nhÃ³m nhá»¯ng nhÃ  phÃ¡t triá»ƒn. VÃ¬ váº­y, náº¿u cÃ³ má»™t lá»—i trong mÃ£ nguá»“n hoáº·c lá»—i ká»¹ thuáº­t, hacker cÃ³ thá»ƒ dá»… dÃ ng khai thÃ¡c nÃ³. VÃ­ dá»¥, vÃ o thÃ¡ng 4 2016 The Decentralized Autonomous organization (The DAO) Ä‘Æ°á»£c phÃ¡t triá»ƒn tá»« fork cá»§a Ethereum vá»›i má»¥c tiÃªu táº¡o ra má»™t liÃªn doanh tÆ° báº£n. NhÆ°ng vÃ o thÃ¡ng 5 2016, má»™t lá»— há»•ng trong mÃ£ nguá»“n cá»§a DAO dáº«n tá»›i máº¥t 50 triá»‡u USD tiá»n Ether.

# 5. BitTorrent

HÃ£y tÆ°á»Ÿng tÆ°á»£ng báº¡n cáº§n download má»™t file vÃ  á»Ÿ Ä‘Ã¢u Ä‘Ã³ ngoÃ i kia cÃ³ nhá»¯ng ngÆ°á»i sáº½ gá»­i cho báº¡n nhá»¯ng pháº§n nhá» trong file Ä‘Ã³, sau Ä‘Ã³ báº¡n ná»‘i nhá»¯ng gÃ¬ mÃ¬nh nháº­n Ä‘Æ°á»£c vá»›i nhau Ä‘á»ƒ táº¡o thÃ nh file báº¡n muá»‘n, Ä‘Ã³ lÃ  nguyÃªn lÃ½ hoáº¡t Ä‘á»™ng cá»§a giao thá»©c BitTorrent.

[TODO: hÃ¬nh client - server]

Háº§u háº¿t cÃ¡c dá»‹ch vá»¥ máº¡ng mÃ  chÃºng ta Ä‘ang sá»­ dá»¥ng hiá»‡n nay hoáº¡t Ä‘á»™ng theo mÃ´ hÃ¬nh client-server, má»™t client sáº½ káº¿t ná»‘i tá»›i server Ä‘á»ƒ yÃªu cáº§u dá»¯ liá»‡u nÃ³ cáº§n, sau Ä‘Ã³ server sáº½ gá»­i láº¡i dá»¯ liá»‡u mÃ  client yÃªu cáº§u. Trong vÃ­ dá»¥ dá»¯ liá»‡u Ä‘Æ°á»£c yÃªu cáº§u lÃ  file.txt.

[TODO: hÃ¬nh http-request http-respone]

Äá»ƒ chá»‰ cho server biáº¿t file mÃ  mÃ¬nh cáº§n, client sá»­ dá»¥ng URL (uniform resource locator). Trong vÃ­ dá»¥ trÃªn server example.com biáº¿t file client cáº§n tÃ¬m á»Ÿ Ä‘Æ°á»ng dáº«n '/file.txt'. Khi nhiá»u client cÃ¹ng káº¿t ná»‘i tá»›i má»™t server, thÃ¬ nÃ³ cáº§n Ä‘Æ°á»£c nÃ¢ng cáº¥p náº¿u khÃ´ng nÃ³ sáº½ trá»Ÿ nÃªn quÃ¡ táº£i. Má»™t váº¥n Ä‘á» lá»›n cá»§a mÃ´ hÃ¬nh nÃ y lÃ  náº¿u server khÃ´ng cÃ²n hoáº¡t Ä‘á»™ng thÃ¬ toÃ n bá»™ client cÅ©ng khÃ´ng thá»ƒ truy cáº­p dá»¯ liá»‡u ná»¯a vÃ  náº¿u file bá»‹ Ä‘á»•i tÃªn thÃ¬ client cÅ©ng khÃ´ng thá»ƒ donwload file vá»›i URL cÅ© Ä‘Æ°á»£c ná»¯a.
Trong mÃ´ hÃ¬nh BitTorrent khÃ´ng tá»“n táº¡i server chá»‰ cÃ³ cÃ¡c client (hay cÃ²n Ä‘Æ°á»£c gá»i lÃ  peer), khi má»™t ngÆ°á»i muá»‘n chia sáº½ má»™t file vá»›i má»i ngÆ°á»i há» táº¡o má»™t file torrent vÃ  báº¯t Ä‘áº§u cung cáº¥p file Ä‘Ã³ qua giao thá»©c BitTorrent. Nhá»¯ng client phá»¥c vá»¥ file Ä‘Æ°á»£c gá»i lÃ  seeder. Khi nhá»¯ng client khÃ¡c cáº§n má»™t file trong máº¡ng (nhá»¯ng client nÃ y Ä‘Æ°á»£c gá»i lÃ  leecher), há» gá»­i request (yÃªu cáº§u) tá»›i cÃ¡c seeder Ä‘ang phá»¥c vá»¥ file há» cáº§n, BitTorrent request khÃ¡ giá»‘ng nhÆ° Http request, Ä‘áº·c biá»‡t lÃ  dáº¡ng Http Range request.

[TODO: hÃ¬nh bittorrent request-response]

Request sáº½ cho biáº¿t client cáº§n download má»™t pháº§n cá»§a file, tá»« byte cÃ³ vá»‹ trÃ­ m tá»›i byte cÃ³ vá»‹ trÃ­ n vÃ  nÃ³ sáº½ Ä‘Æ°á»£c seeder gá»­i cho pháº§n dá»¯ liá»‡u tÆ°Æ¡ng á»©ng vá»›i yÃªu cáº§u cá»§a nÃ³. Äiá»ƒm máº¡nh cá»§a giao thá»©c BitTorrent lÃ  khi cÃ³ nhiá»u client tham gia vÃ o download hay upload trÃªn cÃ¹ng má»™t file, chÃºng sáº½ káº¿t ná»‘i vá»›i nhau. ThÆ°á»ng thÃ¬ má»™t client sáº½ káº¿t ná»‘i tá»›i nhiá»u client nháº¥t cÃ³ thá»ƒ, Ä‘á»ƒ Ä‘áº¡t Ä‘Æ°á»£c tá»‘c Ä‘á»™ download upload lá»›n nháº¥t.

[TODO hÃ¬nh client káº¿t ná»‘i vs nhau]

Äiá»u tuyá»‡t vá»i nháº¥t mÃ  giao thá»©c nÃ y mang láº¡i lÃ  má»™t ngÆ°á»i vá»«a cÃ³ thá»ƒ lÃ  ngÆ°á»i download vá»«a cÃ³ thá»ƒ lÃ  ngÆ°á»i upload, cho dÃ¹ má»™t client khÃ´ng cÃ³ file hoÃ n chá»‰nh, nÃ³ váº«n cÃ³ thá»ƒ chia sáº½ nhá»¯ng pháº§n nÃ³ cÃ³ vá»›i nhá»¯ng client khÃ¡c. Giao thá»©c BitTorrent lÃ  giao thá»©c phÃ¢n tÃ¡n, vÃ¬ váº­y nÃ³ khÃ´ng cÃ³ SPOF, khÃ´ng cÃ³ trÆ°á»ng há»£p server cháº¿t dáº«n Ä‘áº¿n máº¥t file. Náº¿u má»™t node ngÆ°ng hoáº¡t Ä‘á»™ng váº«n cÃ²n cÃ³ hÃ ng triá»‡u node á»Ÿ kháº¯p nÆ¡i trÃªn tháº¿ giá»›i sáºµn sÃ n phá»¥c vá»¥. Thiáº¿t káº¿ nÃ y lÃ  niá»m ao Æ°á»›c cá»§a con ngÆ°á»i tá»« buá»•i Ä‘áº§u cá»§a internet, nÃ³ chá»‹u Ä‘Æ°á»£c lá»—i máº¡ng, miá»…n nhiá»…m trÆ°á»›c cÃ¡c Ä‘Ã²n táº¥n cÃ´ng nháº±m vÃ o háº¡ táº§ng cÃ´ng nghá»‡ thÃ´ng tin (vÃ­ dá»¥ nhÆ° DOS).

## Download

[TODO: hÃ¬nh peer download]
Má»™t file trong máº¡ng BitTorrent thÆ°á»ng Ä‘Æ°á»£c cáº¯t thÃ nh nhiá»u máº£nh, nhÆ° trong vÃ­ dá»¥ nÃ y lÃ  5 máº£nh. Peer1 lÃ  má»™t seeder cÃ³ Ä‘áº§y Ä‘á»§ file, cÃ¡c peer tiáº¿p theo cÃ³ má»™t vÃ i máº£nh cá»§a file.
Äá»ƒ báº¯t Ä‘áº§u download, pháº£i pháº£i thá»±c hiá»‡n má»™t quÃ¡ trÃ¬nh há»i lÃ  handsake (báº¯t tay), trong Ä‘Ã³ má»—i peer sáº½ cung cáº¥p thÃ´ng tin vá» nhá»¯ng máº£nh nÃ³ Ä‘Ã£ sá»Ÿ há»¯u, Ä‘á»“ng thá»i nÃ³ cÅ©ng thÃ´ng bÃ¡o cho cÃ¡c peer Ä‘Ã£ báº¯t tay vá»›i nÃ³ khi nÃ³ nháº­n Ä‘Æ°á»£c má»™t máº£nh má»›i. Sau Ä‘Ã³ cÃ¡c request Ä‘Æ°á»£c gá»­i tá»›i cÃ¡c peer thÃ­ch há»£p vÃ  dá»¯ liá»‡u Ä‘Æ°á»£c nháº­n vá». CÃ¡c máº£nh Ä‘Æ°á»£c yÃªu cáº§u vÃ  download vá» khÃ´ng theo thá»© tá»± nÃ o.
[TODO: hÃ¬nh peer download][todo: hÃ¬nh peer download]
Khi Ä‘Ã£ cÃ³ Ä‘á»§ cÃ¡c máº£nh cá»§a file, cÃ¡c máº£nh Ä‘Æ°á»£c ná»‘i láº¡i theo thá»© tá»± Ä‘á»ƒ táº¡o thÃ nh file hoÃ n chá»‰nh.
[Todo: hÃ¬nh ghÃ©p cÃ¡c piece]

## Tá»‘i Æ°u hÃ³a

Äá»ƒ giÃºp máº¡ng BitTorrent hoáº¡t Ä‘á»™ng tá»‘t cÃ¡c peer thÆ°á»ng lá»±a chá»n peer Ä‘á»ƒ download vÃ  upload theo má»™t sá»‘ nguyÃªn táº¯c. CÃ¡c nguyÃªn táº¯c cÃ³ thá»ƒ ká»ƒ Ä‘áº¿n lÃ  Tit-for-tat (Äƒn miáº¿ng tráº£ miáº¿ng), táº£i vá» máº£nh hiáº¿m trÆ°á»›c, bá» qua peer cháº­m.

Tit-for-tat cÃ³ nghÄ©a lÃ  báº¡n sáº½ Æ°u tiÃªn upload cho nhÆ°ng peer cho phÃ©p báº¡n download vá»›i tá»‘c Ä‘á»™ cao, nguyÃªn táº¯c nÃ y giÃºp loáº¡i bá» nhá»¯ng peer Ã­ch ká»·, nhá»¯ng peer chá»‰ download chá»© khÃ´ng upload cho báº¥t kÃ¬ ai trong máº¡ng.

Táº£i vá» máº£nh hiáº¿m trÆ°á»›c, cÃ¡c peer khÃ´ng pháº£i lÃºc nÃ o cÅ©ng trá»±c Ä‘á»ƒ upload cÃ¡c máº£nh bá»‹ thiáº¿u cho báº¡n. Trong vÃ²ng Ä‘á»i cá»§a má»™t torrent, sáº½ cÃ³ lÃºc cÃ³ ráº¥t Ã­t seeder thÆ°á»ng trá»±c, vÃ­ dá»¥ nhÆ° lÃºc torrent má»›i Ä‘Æ°á»£c táº¡o ra, cÃ¡c seeder cÃ³ thá»ƒ sáº½ offline hoáº·c ngáº¯t káº¿t ná»‘i khiáº¿n file khÃ´ng cÃ²n Ä‘á»§ cÃ¡c máº£nh, cho dÃ¹ sau Ä‘Ã³ máº¡ng cÃ³ ráº¥t nhiá»u peer nhÆ°ng viá»‡c hoÃ n thÃ nh download váº«n lÃ  khÃ´ng thá»ƒ. Báº±ng cÃ¡ch Æ°u tiÃªn táº£i cÃ¡c máº£nh hiáº¿m trÆ°á»›c Ä‘áº£m báº£o tÃ­nh toÃ n váº¹n cho file, trÃ¡nh tÃ¬nh huá»‘n xáº¥u xáº£y ra.

Cuá»‘i cÃ¹ng, cÃ³ nhá»¯ng peer cÃ³ tá»‘c Ä‘á»™ táº£i lÃªn ráº¥t cháº­m, Ä‘á»ƒ hoÃ n thÃ nh download file trÃ¬nh download thÆ°á»ng sáº½ bá» qua cÃ¡c peer nÃ y vÃ  request láº¡i máº£nh cÃ²n thiáº¿u tá»« nhiá»u peer khÃ¡c Ä‘á»ƒ káº¿t thÃºc quÃ¡ trÃ¬nh download nhanh nháº¥t cÃ³ thá»ƒ.

## Torrent file

Äá»ƒ download má»™t file qua torrent ta khÃ´ng thá»ƒ dá»±a vÃ o Ä‘Æ°á»ng dáº«n URL vÃ¬ vá»›i má»™t file má»—i mÃ¡y client cÃ³ thá»ƒ lÆ°u á»Ÿ nhá»¯ng Ä‘Æ°á»ng dáº«n khÃ¡c nhau trÃªn mÃ¡y cá»§a há». Do Ä‘Ã³ Ä‘á»ƒ download má»™t file qua bittorrent thÆ°á»ng cáº§n má»™t torrent file, file nÃ y chá»©a thÃ´ng tin Ä‘á»ƒ download má»™t file. CÃ¡c thÃ´ng tin chÃ­nh lÃ  name (tÃªn file), pieces (hash cá»§a cÃ¡c máº£nh) vÃ  annnounce (Ä‘á»‹a chá»‰ tracker).

[TODO: máº«u file torrent]

Name lÃ  tÃªn gá»£i Ã½ Ä‘á»ƒ lÆ°u file (hoáº·c thÆ° má»¥c), nÃ³ chá»‰ lÃ  gá»£i Ã½ nÃªn khÃ´ng báº¯t buá»™c pháº£i cÃ³ vÃ  pháº£i tuÃ¢n theo.

Pieces, má»™t file thÆ°á»ng Ä‘Æ°á»£c chia lÃ m nhiá»u mÃ£nh, pieces lÆ°u danh sÃ¡ch hash cá»§a cÃ¡c mÃ£nh. Cá»¥ thá»ƒ mÃ£ hÃ³a hash Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi BitTorrent lÃ  SHA-1. Khi cÃ³ danh sÃ¡ch nÃ y trong tay, báº¡n cÃ³ thá»ƒ tá»± tin nháº­n dá»¯ liá»‡u tá»« báº¥t kÃ¬ peer nÃ o trong máº¡ng rá»“i sau Ä‘Ã³ kiá»ƒm tra xem dá»¯ liá»‡u nháº­n Ä‘Æ°á»£c cÃ³ Ä‘Ãºng lÃ  dá»¯ liá»‡u mong Ä‘á»£i hay khÃ´ng.

Cuá»‘i cÃ¹ng lÃ  announce thÆ°á»ng lÃ  url cá»§a má»™t server (Ä‘Æ°á»£c gá»i lÃ  tracker), server nÃ y lÃ m nhiá»‡m vá»¥ cung cáº¥p thÃ´ng tin vá» peer nÃ o Ä‘ang chá»©a máº£nh báº¡n cáº§n tÃ¬m. ÄÃ¢y khÃ´ng pháº£i lÃ  má»™t SPOF vÃ¬ báº¡n cÃ³ thá»ƒ thÃªm báº¥t ká»³ tracker nÃ o vÃ o Ä‘á»ƒ tÃ¬m kiáº¿m peer nhanh hÆ¡n. NgoÃ i ra cÃ´ng nghá»‡ DHT cho phÃ©p tÃ¬m kiáº¿m peer mÃ  khÃ´ng cáº§n thÃ´ng qua tracker.

File torrent thÆ°á»ng khÃ¡ dÃ i vÃ¬ váº­y Ä‘á»ƒ chia sáº½ torrent má»™t cÃ¡ch nhanh chÃ³ng ngÆ°á»i ta hash file torrent Ä‘á»ƒ táº¡o ra má»™t Ä‘oáº¡n hash duy nháº¥t. Nhá» Ä‘Ã³ má»™t torrent file cÃ³ thá»ƒ Ä‘Æ°á»£c chia sáº½ báº±ng má»™t Ä‘oáº¡n hash duy nháº¥t, Ä‘Ã³ lÃ  cÃ¡ch magnet URI hoáº¡t Ä‘á»™ng. Äoáº¡n hash nÃ y Ä‘Æ°á»£c gá»i lÃ  info hash, ngoÃ i má»¥c Ä‘Ã­ch nÃ³i trÃªn info hash cÃ²n Ä‘Æ°á»£c sá»­ dá»¥ng bá»Ÿi tracker.

## Tracker

[Todo: hÃ¬nh tracker server]
Tracker server chá»©a má»™t tá»« Ä‘iá»ƒn, tá»« Ä‘iá»ƒn nÃ y Ã¡nh xáº¡ má»™t info hash sang má»™t danh sÃ¡ch Ä‘á»‹a chá»‰ cÃ¡c peer Ä‘ang tham gia download upload torrent file cÃ³ info hash Ä‘Ã³.

## Decentralization

[Todo: hÃ¬nh so sÃ¡nh http torrent ]
Äá»ƒ download má»™t file cáº§n tÃ¬m uri cá»§a file, cáº£ torrent vÃ  http báº¡n Ä‘á»u pháº£i tÃ¬m uri qua cÃ¡c cÃ´ng cá»¥ tÃ¬m kiáº¿m hoáº·c Ä‘Æ°á»£c chia sáº» bá»Ÿi báº¡n bÃ¨.
Äá»ƒ tÃ¬m kiáº¿m peer, vá»›i Http ta cáº§n cÃ³ má»™t há»‡ thá»‘ng domain name system (DNS - há»‡ thá»‘ng phÃ¢n giáº£i tÃªn miá»n) Ä‘á»ƒ phÃ¢n giáº£i tÃªn miá»n thÃ nh Ä‘á»‹a chá»‰ ip. Trong khi Ä‘Ã³ torrent dá»±a vÃ o tracker Ä‘á»ƒ tÃ¬m kiáº¿m Ä‘á»‹a chá»‰ ip cá»§a cÃ¡c peer.
Äá»ƒ truyá»n táº£i file, Http truyá»n dá»¯ liá»‡u tá»« má»™t mÃ¡y chá»§ trung tÃ¢m Ä‘áº¿n mÃ¡y client, trong khi Ä‘Ã³ dá»¯ liá»‡u Ä‘Æ°á»£c truyá»n qua láº¡i giá»¯a cÃ¡c peer trong BitTorrent.

## Magnet URI

Äá»‹nh dáº¡ng tÃ i nguyÃªn thá»‘ng nháº¥t (URI, viáº¿t táº¯t tá»« Uniform Resource Identifier) lÃ  má»™t chuá»—i kÃ½ tá»± Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¡c Ä‘á»‹nh, nháº­n dáº¡ng má»™t tÃªn hoáº·c má»™t tÃ i nguyÃªn. Magnet URI lÃ  má»™t URI cung cáº¥p Ä‘á»§ thÃ´ng tin Ä‘á»ƒ download má»™t torrent, nÃ³ cÃ³ thá»ƒ cÃ³ nhiá»u pháº§n nhÆ°ng nhá»¯ng pháº§n chÃ­nh lÃ :

- magnet: xÃ¡c Ä‘á»‹nh Ä‘á»‹nh dáº¡ng uri lÃ  magnet uri
- ?xt=urn:btih: xÃ¡c Ä‘á»‹nh info hash cá»§a torrent file
- &dn=name: tÃªn cá»§a file

[Todo: hÃ¬nh máº«u magnet uri]

Lá»£i Ã­ch mÃ  magnet uri Ä‘em láº¡i cho cÃ¡c trang chia sáº½ torrent lÃ  giÃºp giáº£m hao phÃ­ háº¡ táº§ng vÃ  thiáº¿t bá»‹, vÃ¬ magnet uri nháº¹ hÆ¡n ráº¥t nhiá»u so vá»›i torrent file. Máº·t khÃ¡c ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ dá»… dÃ ng chia sáº½ magnet uri qua tin nháº¯n hoáº·c email hÆ¡n so vá»›i torrent file.

# 6. Open Bucket Network

NhÆ° Ä‘Ã£ nÃ³i á»Ÿ ChÆ°Æ¡ng 1, chÃºng tÃ´i táº­p trung giáº£i quyáº¿t váº¥n Ä‘á» cá»‘t lÃµi vá» dá»¯ liá»‡u ngÆ°á»i dÃ¹ng báº±ng cÃ¡ch xÃ¢y dá»±ng má»™t prototype - má»™t máº¡ng lÆ°á»›i chia sáº» dung lÆ°á»£ng lÆ°u trá»¯ cÃ¹ng vá»›i má»™t há»‡ thá»‘ng thanh toÃ¡n mÃ  khÃ´ng Ä‘Ã²i há»i ngÆ°á»i sá»­ dá»¥ng pháº£i chia sáº» thÃ´ng tin cÃ¡ nhÃ¢n cá»§a mÃ¬nh. ChÃºng tÃ´i gá»i nÃ³ lÃ  Open Bucket Network (OBN). KhÃ´ng nhÆ° cÃ¡ch truyá»n thá»‘ng - nhÃ  cung cáº¥p dá»‹ch vá»¥ lÆ°u trá»¯ vÃ  serve (phá»¥c vá»¥) dá»¯ liá»‡u ngÆ°á»i dÃ¹ng, OBN cho phÃ©p thÃ nh viÃªn bÃªn trong OBN cÃ³ thá»ƒ chia sáº» dung lÆ°á»£ng lÆ°u trá»¯ vá»›i nhau, Ä‘á»“ng nghÄ©a vá»›i viá»‡c ngÆ°á»i dÃ¹ng khÃ´ng Ä‘Æ°á»£c táº­p trung á»Ÿ má»™t nÆ¡i duy nháº¥t, mÃ  Ä‘Æ°á»£c duy trÃ¬ bá»Ÿi toÃ n máº¡ng lÆ°á»›i. Ta gá»i nhá»¯ng ngÆ°á»i "cho thuÃª" dung lÆ°á»£ng lÃ  Producer, vÃ¬ há» **cung cáº¥p** dung lÆ°á»£ng cho OBN. TÆ°Æ¡ng tá»±, ta gá»i nhá»¯ng ngÆ°á»i "mÆ°á»£n" dung lÆ°á»£ng lÃ  Consumer, vÃ¬ há» **sá»­ dá»¥ng** dung lÆ°á»£ng tá»« OBN.

[HÃ¬nh 6.1 Nhá»¯ng tÃ­nh nÄƒng cÆ¡ báº£n mÃ  OBN cung cáº¥p](./OBN-basic-usage.png)

## 6.1 Kiáº¿n trÃºc

Trong pháº§n nÃ y ta nÃ³i sÃ¢u hÆ¡n vá» cÃ¡c thÃ nh pháº§n vÃ  kiáº¿n trÃºc cá»§a OBN. NhÆ°ng trÆ°á»›c tiÃªn ta cáº§n lÆ°u Ã½ OBN á»Ÿ thá»i Ä‘iá»ƒm hiá»‡n táº¡i váº«n chá»‰ lÃ  má»™t proof-of-concept, tá»©c lÃ  ta khÃ´ng kÃ¬ vá»ng prototype nÃ y sáº½ luÃ´n cháº¡y á»•n Ä‘á»‹nh vÃ  cÃ³ thá»ƒ sá»­ dá»¥ng cho má»¥c Ä‘Ã­ch thÆ°Æ¡ng máº¡i.

[HÃ¬nh 6.2 Kiáº¿n trÃºc cá»§a Open Bucket Network](./Architecture.png)

Kiáº¿n trÃºc cá»§a OBN á»Ÿ táº§ng cao nháº¥t Ä‘Æ°á»£c thá»ƒ hiá»‡n nhÆ° hÃ¬nh 6.1, Open Bucket Network gá»“m 3 component (thÃ nh pháº§n): OBN Daemon, OBN Tracker, vÃ  OBN Ethereum Smart Contract. Trong Ä‘Ã³ OBN Daemon vÃ  OBN Tracker lÃ  2 component táº¡o nÃªn Open Bucket Network, ngoÃ i giao tiáº¿p vá»›i nhau, 2 thÃ nh pháº§n nÃ y giao tiáº¿p trá»±c tiáº¿p vá»›i thÃ nh pháº§n thá»© 3 - OBN Ethereum Smart Contract thÃ´ng qua Ethereum Network.

Má»™t máº¡ng lÆ°á»›i Ä‘Æ°á»£c táº¡o ra bá»Ÿi nhiá»u node liÃªn káº¿t vá»›i nhau vÃ  cÃ³ thá»ƒ vá»›i má»™t mÃ¡y chá»§ trung gian. ThÃ nh pháº§n Ä‘áº§u tiÃªn cá»§a Open Bucket Network: OBN Daemon lÃ  á»©ng dá»¥ng mÃ  ngÆ°á»i dÃ¹ng pháº£i cÃ i Ä‘áº·t vÃ o mÃ¡y Ä‘á»ƒ cÃ³ thá»ƒ Ä‘Æ°á»£c xÃ¡c nháº­n lÃ  má»™t node trong Open Bucket Network. Tuy nhiÃªn nhá»¯ng node trong máº¡ng lÆ°á»›i ráº¥t khÃ³ Ä‘á»ƒ káº¿t ná»‘i hay giao tiáº¿p vá»›i nhau mÃ  khÃ´ng thÃ´ng qua má»™t server trung gian, OBN Tracker Ä‘Æ°á»£c táº¡o ra Ä‘á»ƒ lÃ m cÃ´ng viá»‡c Ä‘Ã³. Cuá»‘i cÃ¹ng OBN Ethereum Smart Contracts lÃ  thÃ nh pháº§n cá»§a OBN duy nháº¥t mÃ  khÃ´ng á»Ÿ bÃªn trong OBN, OBN Ethereum Smart Contract lÃ  má»™t táº­p há»£p nhá»¯ng Ethereum Smart Contract lÃ m cÃ´ng viá»‡c xÃ¡c nháº­n danh tÃ­nh ngÆ°á»i dÃ¹ng bÃªn trong máº¡ng lÆ°á»›i vÃ  thanh toÃ¡n.

### 6.1.1 OBN Daemon

NhÆ° Ä‘Ã£ nÃ³i á»Ÿ trÃªn, OBN Daemon lÃ  má»™t á»©ng dá»¥ng desktop cáº§n thiáº¿t Ä‘á»ƒ mÃ¡y tÃ­nh ngÆ°á»i dÃ¹ng trá»Ÿ thÃ nh má»™t node trong OBN. TÆ°Æ¡ng á»©ng vá»›i 2 actor (tÃ¡c nhÃ¢n) trong OBN, OBN Daemon gá»“m 2 thÃ nh pháº§n chÃ­nh: Consumer vÃ  Producer. Hai thÃ nh pháº§n nÃ y cÃ³ thá»ƒ hoáº¡t Ä‘á»™ng má»™t cÃ¡ch Ä‘á»™c láº­p máº·c dÃ¹ Ä‘á»u Ä‘Æ°á»£c gÃ³i gá»n trong OBN Daemon. ChÃºng lÃ  phÆ°Æ¡ng tiá»‡n chÃ­nh Ä‘á»ƒ ngÆ°á»i dÃ¹ng giao tiáº¿p vá»›i OBN. Consumer lÃ  táº­p há»£p nhá»¯ng chá»©c nÄƒng dÃ nh cho OBN Consumer, trong Ä‘Ã³ nhá»¯ng chá»©c nÄƒng chÃ­nh bao gá»“m: Ä‘Äƒng kÃ­, upload file, download file, xoÃ¡ file trÃªn OBN vÃ  thanh toÃ¡n. TÆ°Æ¡ng tá»±, ngÆ°á»i dÃ¹ng sá»­ dá»¥ng táº­p chá»©c nÄƒng Producer cÃ³ thá»ƒ: nháº­n file tá»« máº¡ng lÆ°á»›i, serve file cho máº¡ng lÆ°á»›i vÃ  thá»¥ hÆ°á»Ÿng Ether há» Ä‘Ã£ kiáº¿m Ä‘Æ°á»£c.

### 6.1.2 OBN Tracker

OBN Tracker lÃ  trÃ¡i tim cá»§a OBN, component nÃ y lÃ  má»™t hay nhiá»u mÃ¡y chá»§ liÃªn káº¿t vá»›i nhau bao gá»“m: má»™t HTTP server, má»™t Bittorrent Tracker Server vÃ  má»™t websocket server cÃ³ má»¥c Ä‘Ã­ch chÃ­nh lÃ  liÃªn káº¿t OBN Consumer vÃ  OBN Producer vá»›i nhau vÃ  vá»›i Ethereum Network. HTTP Server xá»­ lÃ­ nhá»¯ng tÃ¡c vá»¥ stateless nhÆ° Ä‘Äƒng kÃ­, Ä‘Äƒng nháº­p, xem danh sÃ¡ch file Ä‘ang trÃªn máº¡ng lÆ°á»›i, v.v... . Bittorrent Tracker Server lÃ  má»™t Bittorrent Tracker giÃºp cho Consumer vÃ  Producer trong máº¡ng lÆ°á»›i tÃ¬m tháº¥y nhau. Cuá»‘i cÃ¹ng WS Server xá»­ lÃ­ nhá»¯ng tÃ¡c vá»¥ stateful nhÆ°: upload files, download files, serve files, v.v... .

### 6.1.3 OBN Ethereum Smart Contracts

OBN cÃ³ tá»•ng cá»™ng 3 loáº¡i Ethereum Smart Contract bao gá»“m: Consumer Activator Contract, Producer Activator Contract vÃ  Consumer Contract. Trong Ä‘Ã³ Consumer Activator Contract vÃ  Producer Activator Contract má»—i loáº¡i chá»‰ cÃ³ 1 instance thá»±c sá»± hoáº¡t Ä‘á»™ng táº¡i má»™t thá»i Ä‘iá»ƒm, hai Contract instance nÃ y cÃ³ nhiá»‡m vá»¥ xÃ¡c thá»±c Ethereum Address (Ä‘á»‹a chá»‰ Ethereum) gáº¯n vá»›i OBN Consumer/Producer vÃ  Ä‘áº£m báº£o Ä‘á»‹a chá»‰ Ä‘Ã³ cÃ³ sá»‘ dÆ° kháº£ dá»¥ng lá»›n hÆ¡n háº¡n má»©c cá»§a máº¡ng lÆ°á»›i, hiá»‡n táº¡i háº¡n má»©c nÃ y lÃ  **1 finney** (báº±ng 0.001 Ether vÃ  báº±ng khoáº£ng $0.477). Má»—i OBN Consumer khi Ä‘Æ°á»£c xÃ¡c thá»±c sáº½ cÃ³ má»™t Consumer Contract instance gáº¯n liá»n vá»›i nÃ³, Consumer Contract lÃ  há»£p Ä‘á»“ng giá»¯a má»™t consumer Ä‘ang sá»­ dá»¥ng tÃ i nguyÃªn tá»« OBN vÃ  nhá»¯ng producer Ä‘ang cung cáº¥p tÃ i nguyÃªn cho consumer Ä‘Ã³.

Má»™t ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ cÃ³ nhiá»u consumer vÃ  producer, consumer/producer pháº£i Ä‘Æ°á»£c kÃ­ch hoáº¡t thÃ´ng qua OBN Tracker vÃ  Consumer/Producer Activator Contract Ä‘á»ƒ cÃ³ thá»ƒ tÃ¡c Ä‘á»™ng tá»›i tÃ i nguyÃªn cá»§a máº¡ng lÆ°á»›i. Consumer khi muá»‘n tiÃªu thá»¥ tÃ i nguyÃªn cá»§a máº¡ng lÆ°á»›i, mÃ  cá»¥ thá»ƒ lÃ  dung lÆ°á»£ng, trÆ°á»›c tiÃªn pháº£i gá»­i Ether cá»§a há» vÃ o Consmer Contract vá»›i sá»‘ lÆ°á»£ng lá»›n hÆ¡n háº¡n má»©c Ä‘Ã£ Ä‘á» cáº­p trÆ°á»›c Ä‘Ã³. Consumer Contract nÃ³i cÃ¡ch khÃ¡c lÃ  má»™t cuá»‘n sá»• cÃ¡i ghi láº¡i giao dá»‹ch giá»¯a consumer vÃ  producer trÃªn OBN, cá»¥ thá»ƒ hÆ¡n, khi consumer sá»­ dá»¥ng tÃ i nguyÃªn cá»§a OBN, má»™t sá»‘ lÆ°á»£ng Ether tÆ°Æ¡ng á»©ng cá»§a há» trong Consumer Contract sáº½ Ä‘Æ°á»£c chuyá»ƒn qua nhá»¯ng producer Ä‘Ã£ cung cáº¥p tÃ i nguyÃªn Ä‘Ã³, quÃ¡ trÃ¬nh nÃ y láº·p Ä‘i láº·p láº¡i cho Ä‘áº¿n khi nÃ o sá»‘ Ether kháº£ dá»¥ng cá»§a Consumer háº¿t hoáº·c ngÆ°á»i dÃ¹ng xoÃ¡ Consumer Ä‘Ã³.

## 6.2 Hiá»‡n thá»±c

### 6.2.1 ER diagrams

### 6.2.2 Usecase diagrams

### 6.2.3 Flow diagrams

### 6.2.4 OBN Daemon CLI

### 6.2.5 OBN Client

### 6.2.6 OBN Tracker

### 6.2.7 OBN Ethereum Smart Contracts
